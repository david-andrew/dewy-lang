<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>The Dewy Programming Language</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="00-introduction.html">Introduction</a></li><li class="chapter-item expanded "><a href="ch01/00-getting-started.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch01/xx-online-interpreter.html"><strong aria-hidden="true">1.1.</strong> Online Interpreter</a></li><li class="chapter-item expanded "><a href="ch01/01-installation.html"><strong aria-hidden="true">1.2.</strong> Installation</a></li><li class="chapter-item expanded "><a href="ch01/02-hello-world.html"><strong aria-hidden="true">1.3.</strong> Hello, World!</a></li></ol></li><li class="chapter-item expanded "><a href="ch02/00-hello-many-worlds.html"><strong aria-hidden="true">2.</strong> Hello, Many Worlds!</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch02/01-gui.html"><strong aria-hidden="true">2.1.</strong> GUI</a></li><li class="chapter-item expanded "><a href="ch02/02-graphics.html"><strong aria-hidden="true">2.2.</strong> Graphics</a></li><li class="chapter-item expanded "><a href="ch02/03-audio.html"><strong aria-hidden="true">2.3.</strong> Audio</a></li><li class="chapter-item expanded "><a href="ch02/04-networking.html"><strong aria-hidden="true">2.4.</strong> Networking</a></li><li class="chapter-item expanded "><a href="ch02/05a-game-development.html"><strong aria-hidden="true">2.5.</strong> 2D Game Development</a></li><li class="chapter-item expanded "><a href="ch02/05b-game-development.html"><strong aria-hidden="true">2.6.</strong> 3D Game Development</a></li><li class="chapter-item expanded "><a href="ch02/06-web-development.html"><strong aria-hidden="true">2.7.</strong> Web Development</a></li><li class="chapter-item expanded "><a href="ch02/07-databases.html"><strong aria-hidden="true">2.8.</strong> Databases</a></li><li class="chapter-item expanded "><a href="ch02/08-cryptography.html"><strong aria-hidden="true">2.9.</strong> Cryptography</a></li><li class="chapter-item expanded "><a href="ch02/09-operating-systems.html"><strong aria-hidden="true">2.10.</strong> Operating Systems</a></li><li class="chapter-item expanded "><a href="ch02/10-compilers.html"><strong aria-hidden="true">2.11.</strong> Compilers</a></li><li class="chapter-item expanded "><a href="ch02/11-scientific-computing.html"><strong aria-hidden="true">2.12.</strong> Scientific Computing</a></li><li class="chapter-item expanded "><a href="ch02/12-robotics.html"><strong aria-hidden="true">2.13.</strong> Robotics</a></li><li class="chapter-item expanded "><a href="ch02/13-machine-learning.html"><strong aria-hidden="true">2.14.</strong> Machine Learning</a></li></ol></li><li class="chapter-item expanded "><a href="ch03/00-features.html"><strong aria-hidden="true">3.</strong> Language Features</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch03/expressions-statements-blocks.html"><strong aria-hidden="true">3.1.</strong> Expressions, Statements, and Blocks</a></li><li class="chapter-item expanded "><a href="ch03/units.html"><strong aria-hidden="true">3.2.</strong> Units</a></li><li class="chapter-item expanded "><a href="ch03/string-interpolation.html"><strong aria-hidden="true">3.3.</strong> String Interpolation</a></li><li class="chapter-item expanded "><a href="ch03/basic-data-types.html"><strong aria-hidden="true">3.4.</strong> Basic Data Types</a></li><li class="chapter-item expanded "><a href="ch03/container-types.html"><strong aria-hidden="true">3.5.</strong> Container Types</a></li><li class="chapter-item expanded "><a href="ch03/range-types.html"><strong aria-hidden="true">3.6.</strong> Range Types</a></li><li class="chapter-item expanded "><a href="ch03/object-types.html"><strong aria-hidden="true">3.7.</strong> Object Types</a></li><li class="chapter-item expanded "><a href="ch03/function-types.html"><strong aria-hidden="true">3.8.</strong> Function Types</a></li><li class="chapter-item expanded "><a href="ch03/operators.html"><strong aria-hidden="true">3.9.</strong> Operators</a></li><li class="chapter-item expanded "><a href="ch03/number-bases.html"><strong aria-hidden="true">3.10.</strong> Number Bases</a></li><li class="chapter-item expanded "><a href="ch03/basic-math.html"><strong aria-hidden="true">3.11.</strong> Basic Math</a></li><li class="chapter-item expanded "><a href="ch03/linear-algebra.html"><strong aria-hidden="true">3.12.</strong> Linear Algebra</a></li><li class="chapter-item expanded "><a href="ch03/functional-programming.html"><strong aria-hidden="true">3.13.</strong> Functional Programming</a></li><li class="chapter-item expanded "><a href="ch03/meta-programming.html"><strong aria-hidden="true">3.14.</strong> Meta Programming</a></li><li class="chapter-item expanded "><a href="ch03/flow-control.html"><strong aria-hidden="true">3.15.</strong> Flow Control</a></li><li class="chapter-item expanded "><a href="ch03/loops.html"><strong aria-hidden="true">3.16.</strong> One Loop to Rule them All</a></li><li class="chapter-item expanded "><a href="ch03/imports.html"><strong aria-hidden="true">3.17.</strong> Imports</a></li></ol></li><li class="chapter-item expanded "><a href="ch04/00-stdlib.html"><strong aria-hidden="true">4.</strong> Standard Library</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch04/xx-data-structures.html"><strong aria-hidden="true">4.1.</strong> Data Structures</a></li><li class="chapter-item expanded "><a href="ch04/xx-time.html"><strong aria-hidden="true">4.2.</strong> Time</a></li><li class="chapter-item expanded "><a href="ch04/xx-plotting.html"><strong aria-hidden="true">4.3.</strong> Plotting</a></li><li class="chapter-item expanded "><a href="ch04/xx-parsing.html"><strong aria-hidden="true">4.4.</strong> Parsing</a></li><li class="chapter-item expanded "><a href="ch04/xx-parallelism.html"><strong aria-hidden="true">4.5.</strong> Parallelism</a></li></ol></li><li class="chapter-item expanded "><a href="ch05/00-general.html"><strong aria-hidden="true">5.</strong> General Concepts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch05/xx-sandboxes-harnesses.html"><strong aria-hidden="true">5.1.</strong> Sandboxes and Harnesses</a></li></ol></li><li class="chapter-item expanded "><a href="ch06/00-case-studies.html"><strong aria-hidden="true">6.</strong> Advanced Case Studies</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch06/dewy-compiler.html"><strong aria-hidden="true">6.1.</strong> Dewy Compiler</a></li><li class="chapter-item expanded "><a href="ch06/neo-mapping.html"><strong aria-hidden="true">6.2.</strong> Asteroid Detection</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Dewy Programming Language</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>Welcome to the Dewy Programming Language Book. This book covers all aspects of the language, including syntax, style, the standard library, examples, etc.</p>
<blockquote>
<p>Please note that this book and the language are still VERY work in progress. The book is still missing many chapters, and the current language implementation is very incomplete.</p>
</blockquote>
<h2 id="what-is-dewy"><a class="header" href="#what-is-dewy">What is Dewy</a></h2>
<p>The Dewy Programming Language is a simple yet powerful general purpose language designed with engineering applications in mind. Think the functionality and ease of use of matlab or python combined with the speed of a compiled language like C or Rust</p>
<h2 id="who-is-dewy-for"><a class="header" href="#who-is-dewy-for">Who is Dewy for</a></h2>
<p>Dewy is for everyone! Dewy is designed to be easy to learn and use, while still being powerful enough to be used for real world applications. Dewy is designed to be a general purpose language, and can be used for anything from simple scripting to complex engineering applications.</p>
<h2 id="features"><a class="header" href="#features">Features</a></h2>
<p>Dewy has many unique and uncommon features allowing it to be powerful and easy to use. Some key features include:</p>
<ul>
<li><strong>Functional and Imperative</strong> - Dewy is an imperative language with strong support for functional programming. This allows for a very flexible programming style, where you can use the best tool for the job.</li>
<li><strong>Expression based syntax</strong> - Dewy uses an expression based syntax, meaning that everything is an expression. This allows for a very simple yet powerful syntax, where common language features often are just a free consequence of the syntax</li>
<li><strong>Garbage-collector-free memory management</strong> - Dewy uses a unique memory management system, allowing for fast and efficient memory management without the need for a garbage collector.</li>
<li><strong>Strong type system</strong> - Dewy has a powerful static type system with inference, reminiscent of those in Typescript and Julia.</li>
<li><strong>Built in unit system</strong> - Dewy has a built in unit system, allowing you to easily work with units and convert between them. This is especially useful for engineering applications.</li>
<li><strong>Strong math support</strong> - Dewy has strong support many math features, including complex numbers, quaternions, vectors, matrices, and more. This is especially useful for engineering applications.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h1>
<p>Dewy is still in it's early development stages, but you can try it out! Currently this chapter explains how to use the current python interpreter implementation:</p>
<ul>
<li>Online interpreter</li>
<li>Installing the interpreter on Linux</li>
<li>Writing hello world</li>
</ul>
<p>Long term, this chapter will explain how to use the compiler, and provide several hello world examples for various different applications of Dewy.</p>
<ul>
<li>Installing the compiler on Linux, Windows, and Mac</li>
<li>Writing hello world</li>
<li>Simple examples for other domains</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="online-interpreter"><a class="header" href="#online-interpreter">Online Interpreter</a></h1>
<p>This is a simple online interpreter for the Dewy programming language. It's very work in progress, and only supports a subset of the language features, but it should give a good idea of what the language is like.</p>
<p>Long term, this will be replaced with a less janky version that supports the full language.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/demo_only?src=printl%27Welcome%20to%20the%20online%20Dewy%20Interpreter%21%27&id=DewyIframe0"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe0"
    frameBorder="0"
></iframe>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<p>Currently, only the python interpreter backend is available. To install it, you must have <strong>python 3.11</strong> or later installed. Then to install:</p>
<ol>
<li>Clone the repo
<pre><code class="language-bash">$ git clone git@github.com:david-andrew/dewy-lang.git
</code></pre>
</li>
<li>Run the install script
<pre><code class="language-bash">$ cd dewy-lang
$ python install.py
</code></pre>
</li>
<li>Log out and back in</li>
</ol>
<h2 id="verify-install"><a class="header" href="#verify-install">Verify Install</a></h2>
<p>When you do have the language properly installed, you should be able to verify that it works like so:</p>
<pre><code class="language-bash">$ dewy -v
Dewy 0.0.0
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hello-world"><a class="header" href="#hello-world">Hello, World!</a></h1>
<p>It's traditional in most languages to write a small program that prints &quot;Hello, World!&quot; to the screen. Achieving this is super simple in Dewy!</p>
<h2 id="put-your-code-in-a-directory"><a class="header" href="#put-your-code-in-a-directory">Put Your Code in a Directory</a></h2>
<p>It's probably a good idea to put your code in a dedicated folder.</p>
<pre><code class="language-bash">$ mdkir ~/code
$ cd ~/code
$ mdkir hello_world
$ cd hello_world
</code></pre>
<h2 id="write-the-source-code"><a class="header" href="#write-the-source-code">Write the Source Code</a></h2>
<p>Next we'll create the source file. In a text editor of your choosing, create a file called <code>hello.dewy</code>.</p>
<p>Then in the text editor, enter the following code</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=printl%27Hello%2C%20World%21%27&id=DewyIframe1"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe1"
    frameBorder="0"
></iframe>
<p>When you are done in the text editor, save and close the file.</p>
<h2 id="run-the-code"><a class="header" href="#run-the-code">Run the Code</a></h2>
<p>Running a dewy file is as simple as invoking the file with the <code>dewy</code> command</p>
<pre><code class="language-bash">$ dewy hello.dewy
</code></pre>
<p>Which should print <code>Hello, World!</code> in the terminal. </p>
<h2 id="how-it-works"><a class="header" href="#how-it-works">How it Works</a></h2>
<p>This code invokes the <code>printl</code> function with the string <code>'Hello, World!'</code>. <code>printl</code> is a commonly used function that takes text and prints it to the terminal, followed by a newline.</p>
<h2 id="compiling-and-running-are-the-same-step"><a class="header" href="#compiling-and-running-are-the-same-step">Compiling and Running Are the Same Step</a></h2>
<blockquote>
<p>NOTE: this is not relevant until the LLVM/other compiler backends are implemented.</p>
</blockquote>
<p>When you run the program, you are actually doing two things: first compiling, and then running.</p>
<p>Compiling is the process that translates the code from Dewy, which your computer doesn't understand natively, to machine language which it does understand. The resulting translation is saved to a file, called an <strong>executable</strong>, that your computer can run directly. Once the executable is created, the <code>dewy</code> command then automatically runs it for you.</p>
<p>All of this goes on under the hood, so you don't have to worry about it. But you might notice the effects of this process, e.g. the first time you run a program, it might take a bit longer than subsequent runs. Additionally, you might notice a hidden directory containing the executable, and perhaps other files related to the compilation process. In this case, the directory is called <code>.hello/</code> and contains the executable <code>hello</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hello-many-worlds"><a class="header" href="#hello-many-worlds">Hello, Many Worlds!</a></h1>
<p>This chapter contains short example programs over a variety of different domains--basically a <em>Hello World</em> for each problem. Each of these should serve as a quick start guide for common tasks in Dewy.</p>
<ul>
<li><a href="ch02/ch02-01-gui.html">GUI</a>: creating a window with a click counter</li>
<li><a href="ch02/ch02-02-graphics.html">Graphics</a>: drawing a triangle from scratch</li>
<li><a href="ch02/ch02-03-audio.html">Audio</a>: playing a sin wave through the speakers</li>
<li><a href="ch02/ch02-04-networking.html">Networking</a>: building a simple client/server chat program</li>
<li><a href="ch02/ch02-05a-game-development.html">2D Game Development</a>: making a 2D Flappy Bird clone</li>
<li><a href="ch02/ch02-05b-game-development.html">3D Game Development</a>: making a 3D Racing Game</li>
<li><a href="ch02/ch02-06-web-development.html">Web Development</a>: building a simple website</li>
<li><a href="ch02/ch02-07-databases.html">Databases</a>: creating a simple data store</li>
<li><a href="ch02/ch02-08-cryptography.html">Cryptography</a>: encrypting and decrypting a string</li>
<li><a href="ch02/ch02-09-operating-systems.html">Operating Systems</a>: running Hello World on bare metal</li>
<li><a href="ch02/ch02-10-compilers.html">Compilers</a>: building a toy compiler</li>
<li><a href="ch02/ch02-11-scientific-computing.html">Scientific Computing</a>: making an Infinite Zooming Mandelbrot Set</li>
<li><a href="ch02/ch02-12-robotics.html">Robotics</a>: Forward and inverse kinematics of a 6-DoF robot arm</li>
<li><a href="ch02/ch02-13-machine-learning.html">Machine Learning</a>: training a simple MLP on MNIST</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="gui"><a class="header" href="#gui">GUI</a></h1>
<p>(TODO: creating a window with a click counter)</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="graphics"><a class="header" href="#graphics">Graphics</a></h1>
<p>(TODO: drawing a triangle from scratch)</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="audio"><a class="header" href="#audio">Audio</a></h1>
<p>(TODO: playing a sin wave through the speakers)</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="networking"><a class="header" href="#networking">Networking</a></h1>
<p>(TODO: building a simple client/server chat program)</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="game-development"><a class="header" href="#game-development">Game Development</a></h1>
<p>(TODO: making a 2D Flappy Bird clone)</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="game-development-1"><a class="header" href="#game-development-1">Game Development</a></h1>
<p>(TODO: making a 3D Racing Game)</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="web-development"><a class="header" href="#web-development">Web Development</a></h1>
<p>(TODO: building a simple website)</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="databases"><a class="header" href="#databases">Databases</a></h1>
<p>(TODO: creating a simple data store)</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cryptography"><a class="header" href="#cryptography">Cryptography</a></h1>
<p>(TODO: encrypting and decrypting a string)</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="operating-systems"><a class="header" href="#operating-systems">Operating Systems</a></h1>
<p>(TODO: hello world boot loader program on raspberry pi)</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="compilers"><a class="header" href="#compilers">Compilers</a></h1>
<p>(TODO: building a toy compiler. perhaps something stack based, e.g. simplified porth. or perhaps something like a toy dewy/c/etc. compiler.)</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scientific-computing"><a class="header" href="#scientific-computing">Scientific Computing</a></h1>
<p>(TODO: Making an Infinite Zooming Mandelbrot Set)</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="robotics"><a class="header" href="#robotics">Robotics</a></h1>
<p>(TODO: forward and inverse kinematics of a 6DoF robot arm using homogeneous transformation matrices)</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="machine-learning"><a class="header" href="#machine-learning">Machine Learning</a></h1>
<p>(TODO: training a simple MLP on MNIST)</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="language-features"><a class="header" href="#language-features">Language Features</a></h1>
<p>Each subsequent section explains a different facet of the language.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="expressions-statements-and-blocks"><a class="header" href="#expressions-statements-and-blocks">Expressions, Statements, and Blocks</a></h1>
<h2 id="expressions"><a class="header" href="#expressions">Expressions</a></h2>
<p>Dewy is an expression based language. An expression is literally just a value, or something that evaluates to a value. Results of expressions can be stored in variables, or used to build up more complicated expressions.</p>
<p>The simplest type of expression is any literal value, such as an integer for instance</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=42%20%20%25an%20integer%20expression&id=DewyIframe2"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe2"
    frameBorder="0"
></iframe>
<p>This expression can easily be bound to a variable</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_expression%20%3D%2042&id=DewyIframe3"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe3"
    frameBorder="0"
></iframe>
<p>Calling a function is an expression if the function returns a value. For example, the <code>sqrt</code> function returns the square root of a value</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_expression%20%3D%20sqrt%2864%29%20%20%25returns%208&id=DewyIframe4"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe4"
    frameBorder="0"
></iframe>
<p>And now <code>my_expression</code> contains the value <code>8</code>.</p>
<p>Expressions can also be used to build up more complicated expressions</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_expression%20%3D%20%27string%20with%20the%20expression%20%7Bsqrt%2864%29%20%2B%209%20%2A%20cos%28pi%29%7D%27&id=DewyIframe5"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe5"
    frameBorder="0"
></iframe>
<p>In this example, at the highest level, there is a string expression, which contains a nested expression. The nested expression <code>sqrt(64) + 9 * cos(pi)</code> is a mathematical expression, built up from smaller expressions combined with math operators <code>+</code> and <code>*</code>. <code>sqrt(64)</code> and <code>cos(pi)</code> are both a function call expressions, and <code>64</code>, <code>9</code> are literal expressions and <code>pi</code> is an identifier for a constant value.</p>
<h2 id="statements"><a class="header" href="#statements">Statements</a></h2>
<p>A statement is a single piece of code that expresses no value (typically referred to as <code>void</code>). For example calling the <code>printl</code> function, which prints out a string to the console</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=printl%27Hello%27&id=DewyIframe6"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe6"
    frameBorder="0"
></iframe>
<p>This function call doesn't return a value. If you tried to store the result into a variable, you'd get a compilation error</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_var%20%3D%20printl%27Hello%27%20%20%25%20Error%3A%20can%27t%20assign%20void%20to%20a%20variable&id=DewyIframe7"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe7"
    frameBorder="0"
></iframe>
<p>Most expressions in Dewy will return something, but you can easily convert an expression into a <code>void</code> statement by appending a semicolon <code>;</code> to the end of the expression</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_expression%20%3D%20%5B%0A%20%20%20%20sqrt%281%29%3B%0A%20%20%20%20sqrt%284%29%0A%20%20%20%20sqrt%289%29%3B%0A%20%20%20%20sqrt%2816%29%0A%20%20%20%20sqrt%2825%29%3B%0A%20%20%20%20sqrt%2836%29%3B%0A%20%20%20%20sqrt%2849%29%3B%0A%20%20%20%20sqrt%2864%29%0A%5D&id=DewyIframe8"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe8"
    frameBorder="0"
></iframe>
<p>In this example, the resulting value of each <code>sqrt</code> call is suppressed by the semicolon, and the array captures only the non-suppressed values, resulting in <code>my_expression = [2 4 8]</code>.</p>
<blockquote>
<p>Note: the one context where semicolon does not suppress the value of an expression is in a multidimensional array literal. In this context, semicolons are used to indicate new dimensions of the array, and values with semicolons are still captured.</p>
</blockquote>
<h2 id="blocks"><a class="header" href="#blocks">Blocks</a></h2>
<p>A block is just a sequence of expressions or statements wrapped in either <code>{}</code> or <code>()</code>. A block is itself an expression.</p>
<blockquote>
<p>Note: the distinction between <code>{}</code> and <code>()</code> blocks has to do with the scope of the block. Any expressions inside a <code>{}</code> block receive a new child execution scope, while those inside a <code>()</code> block share the same scope as the parent where the block is written. Scope will be explained in greater detail later (TODO: link)</p>
</blockquote>
<p>Let's start with the simplest type of a block, the empty block</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=%7B%20%7D%20%20%25%20an%20empty%20block%0A%28%20%29%20%20%25%20also%20an%20empty%20block&id=DewyIframe9"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe9"
    frameBorder="0"
></iframe>
<p>Empty blocks have type <code>void</code> since they don't contain any expressions, thus making the overall block not express anything.</p>
<p>Adding a single expression to a block makes the block itself express that value</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=%7B%2042%20%7D%20%20%25%20a%20block%20that%20expresses%20the%20value%2042&id=DewyIframe10"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe10"
    frameBorder="0"
></iframe>
<p>Adding multiple expressions to a block makes the block express multiple values (TODO: link to generators)</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=%7B%201%202%203%204%205%206%207%208%209%2010%20%7D%20%20%25%20a%20block%20that%20expresses%20the%20values%201%20through%2010&id=DewyIframe11"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe11"
    frameBorder="0"
></iframe>
<p>TODO-&gt;rest of explanation of blocks.</p>
<ul>
<li>catching values expressed in blocks</li>
<li>blocks for precedence overriding</li>
<li>blocks work anywhere an expression is expected</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="units"><a class="header" href="#units">Units</a></h1>
<p>Dewy was designed from day 1 to include physical units such as kilogram, meter, second.</p>
<h2 id="a-simple-example"><a class="header" href="#a-simple-example">A Simple Example</a></h2>
<p>Using units is quite straightforward, as they are just another expression. Juxtaposing a unit with a number will multiply the number by the unit, and you can use this to build up more complex expressions.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=mass%20%3D%2010kg%0Avelocity%20%3D%2030m/s%0Aenergy%20%3D%201/2%20%2A%20mass%20%2A%20velocity%5E2&id=DewyIframe12"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe12"
    frameBorder="0"
></iframe>
<p>The <code>energy</code> variable now contains a value of <code>9000 joules</code>. For more complex unit expressions, sometimes it is necessary to use parentheses to group terms together. In general it is good style to do so, except for the simplest unit expressions. See <a href="ch03/operators.html">Operator Precedence</a>.</p>
<p>Here are several more examples of unit expressions:</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=7kg%20%2A%2010%28m/s/s%29%0A25%28N/m%5E2%29%20%2B%2015%28Pa%29%0A12%28kg%29%20%2B%208%28kg%29%0A3%28m%29%20%2A%205%28s%29%0A25%28J%29%20-%2015%28J%29%0A9%28N%29%20%2A%206%28m%29%0A1500%28W%29%20/%2010%28A%29%0A5%28A%29%20%2A%202%28%CE%A9%29%0A8%28m%2As%5E-1%29%20/%202%28s%29%0A40%28N%2Am%29%20%2A%2010%28rad%29%0A200%28Pa%29%20%2A%203%28m%5E2%29%0A1000%28m%5E3%29%20%2A%202%28kg/m%5E3%29%0A20%28J/s%29%20%2A%204%28s%29%0A8%28km/h%29%20%2B%2020%28m/s%29%0A6%28N%29%20/%202%28m%5E2%29%0A18%28L%29%20%2A%200.001%28m%5E3/L%29%0A1000%28kg%29%20%2A%209.8%28m/s%5E2%29%0A12%28C%29%20%2A%201.6%20x%2010%5E-19%28C%29%0A0.5%28kg%29%20%2A%20%2810%28m/s%29%29%5E2%0A1200%28W%29%20/%20240%28V%29%0A6000%28s%29%20/%203600%28s/h%29%0A7.5%28mol%29%20%2A%206.022e23%28particles/mol%29%0A15%28kg%20%2A%20m%5E2%20%2A%20s%5E-1%20%2A%20A%5E-2%20%2A%20K%5E2%20%2A%20mol%5E-1%20%2A%20cd%5E3%29%20%2B%2010%28kg%20%2A%20m%20%2A%20s%5E-2%20%2A%20A%5E-1%20%2A%20K%20%2A%20mol%5E-2%20%2A%20cd%5E2%29%0A%0AF%20%3D%205kg%20%2A%202%28m/s%5E2%29%20%25%2010%20N%0AW%20%3D%2020N%20%2A%2010m%20%2A%20cos%2845%C2%B0%29%20%25%20141.42%20J%0AV%20%3D%202A%20%2A%2010%CE%A9%20%25%2020%20V%0AP%20%3D%2012V%20%2A%205A%20%25%2060%20W%0AKE%20%3D%200.5%20%2A%208kg%20%2A%20%286%28m/s%29%29%5E2%20%25%20144%20J%0AU%20%3D%2075kg%20%2A%209.81%28m/s%5E2%29%20%2A%205m%20%25%203678.75%20J%0AF%20%3D%20200%28N/m%29%20%2A%200.05m%20%25%2010%20N%0AQ%20%3D%20385%28W/%28m%20%2A%20K%29%29%20%2A%201m%5E2%20%2A%20%28100%C2%B0C%20-%2025%C2%B0C%29%20%2A%203600s%20/%200.01m%20%25%20990000%20J%0AP%20%3D%20%282mol%20%2A%208.314%28J/%28mol%20%2A%20K%29%29%20%2A%20300K%29%20/%200.01m%5E3%20%25%20498420%20Pa%0A%CF%81%20%3D%2050kg%20/%200.1m%5E3%20%25%20500%20kg/m%5E3&id=DewyIframe13"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe13"
    frameBorder="0"
></iframe>
<h2 id="si-prefixes"><a class="header" href="#si-prefixes">SI Prefixes</a></h2>
<blockquote>
<p>Note: SI prefixes only work for SI base and derived units (and a few exceptions noted below). Also the abbreviated forms of prefixes may only be combined with abbreviated units, and written out prefixes may only be combined with written out units. E.g. <code>kilograms</code> and <code>kg</code> are valid, but <code>kgrams</code> and <code>kilog</code> are invalid.</p>
</blockquote>
<div class="table-wrapper"><table><thead><tr><th>Prefix</th><th>Abbrev.</th><th>Scale</th></tr></thead><tbody>
<tr><td><code>yotta</code></td><td><code>Y</code></td><td>10^24</td></tr>
<tr><td><code>zetta</code></td><td><code>Z</code></td><td>10^21</td></tr>
<tr><td><code>exa</code></td><td><code>E</code></td><td>10^18</td></tr>
<tr><td><code>peta</code></td><td><code>P</code></td><td>10^15</td></tr>
<tr><td><code>tera</code></td><td><code>T</code></td><td>10^12</td></tr>
<tr><td><code>giga</code></td><td><code>G</code></td><td>10^9</td></tr>
<tr><td><code>mega</code></td><td><code>M</code></td><td>10^6</td></tr>
<tr><td><code>kilo</code></td><td><code>k</code></td><td>10^3</td></tr>
<tr><td><code>hecto</code></td><td><code>h</code></td><td>10^2</td></tr>
<tr><td><code>deca</code></td><td><code>da</code></td><td>10^1</td></tr>
<tr><td><code>deci</code></td><td><code>d</code></td><td>10^−1</td></tr>
<tr><td><code>centi</code></td><td><code>c</code></td><td>10^−2</td></tr>
<tr><td><code>milli</code></td><td><code>m</code></td><td>10^−3</td></tr>
<tr><td><code>micro</code></td><td><code>μ</code>/<code>u</code></td><td>10^−6</td></tr>
<tr><td><code>nano</code></td><td><code>n</code></td><td>10^−9</td></tr>
<tr><td><code>pico</code></td><td><code>p</code></td><td>10^−12</td></tr>
<tr><td><code>femto</code></td><td><code>f</code></td><td>10^−15</td></tr>
<tr><td><code>atto</code></td><td><code>a</code></td><td>10^−18</td></tr>
<tr><td><code>zepto</code></td><td><code>z</code></td><td>10^−21</td></tr>
<tr><td><code>yocto</code></td><td><code>y</code></td><td>10^−24</td></tr>
</tbody></table>
</div>
<p>Non-SI units that may receive SI prefixes:</p>
<ul>
<li><code>psi</code> (e.g. <code>kpsi</code> = <code>1000(psi)</code>)</li>
<li><code>torr</code> (e.g. <code>mTorr</code> = <code>0.001(torr)</code>)</li>
<li><code>bar</code> (e.g. <code>mbar</code> = <code>0.001(bar)</code>)</li>
<li><code>eV</code> (e.g. <code>keV</code> = <code>1000(eV)</code>)</li>
<li><code>cal</code> (e.g. <code>kcal</code> = <code>1000(cal)</code>)</li>
<li>(TODO: probably more)</li>
</ul>
<h2 id="binary-prefixes"><a class="header" href="#binary-prefixes">Binary Prefixes</a></h2>
<blockquote>
<p>Note: These prefixes are exclusively for use with units of information (e.g. <code>bit</code>/<code>byte</code>)</p>
</blockquote>
<div class="table-wrapper"><table><thead><tr><th>Prefix</th><th>Abbrev.</th><th>Scale</th></tr></thead><tbody>
<tr><td><code>kibi</code></td><td><code>Ki</code></td><td>2^10</td></tr>
<tr><td><code>mebi</code></td><td><code>Mi</code></td><td>2^20</td></tr>
<tr><td><code>gibi</code></td><td><code>Gi</code></td><td>2^30</td></tr>
<tr><td><code>tebi</code></td><td><code>Ti</code></td><td>2^40</td></tr>
<tr><td><code>pebi</code></td><td><code>Pi</code></td><td>2^50</td></tr>
<tr><td><code>exbi</code></td><td><code>Ei</code></td><td>2^60</td></tr>
<tr><td><code>zebi</code></td><td><code>Zi</code></td><td>2^70</td></tr>
<tr><td><code>yobi</code></td><td><code>Yi</code></td><td>2^80</td></tr>
</tbody></table>
</div>
<h2 id="full-list-of-units"><a class="header" href="#full-list-of-units">Full List of Units</a></h2>
<p>(TODO-&gt;maybe like solidworks, allow user to set unit system, e.g. meters-kilograms-seconds, centimeters-grams-seconds, etc. See: https://en.wikipedia.org/wiki/MKS_system_of_units https://en.wikipedia.org/wiki/Metre%E2%80%93tonne%E2%80%93second_system_of_units https://en.wikipedia.org/wiki/Foot%E2%80%93pound%E2%80%93second_system https://en.wikipedia.org/wiki/Centimetre%E2%80%93gram%E2%80%93second_system_of_units )</p>
<h2 id="base-units"><a class="header" href="#base-units">Base Units</a></h2>
<blockquote>
<p>Note: abbreviated units and prefixes are <strong>case sensitive</strong>, while fully written out units and prefixes are <strong>case insensitive</strong></p>
</blockquote>
<div class="table-wrapper"><table><thead><tr><th>Quantity</th><th>Symbol</th><th>Abbrev. Units</th><th>Full Units</th></tr></thead><tbody>
<tr><td>Mass*</td><td><code>[M]</code></td><td><code>g</code><br><code>k</code><br><code>lbm</code><br>-</td><td><code>gram</code>/<code>grams</code><br><code>kilo</code>/<code>kilos</code><br><code>pound-mass</code>/<code>pounds-mass</code><br><code>slug</code>/<code>slugs</code></td></tr>
<tr><td>Length</td><td><code>[L]</code></td><td><code>m</code><br>-<br><code>ft</code><br><code>yd</code><br><code>mi</code><br>-<br><code>AU</code><br>-<br>-</td><td><code>meter</code>/<code>meters</code>/<code>metre</code>/<code>metres</code><br><code>inch</code>/<code>inches</code><br><code>foot</code>/<code>feet</code><br><code>yard</code>/<code>yards</code><br><code>mile</code>/<code>miles</code><br><code>nautical_mile</code>/<code>nautical_miles</code><br><code>astronomical_unit</code>/<code>astronomical_units</code><br><code>light_year</code>/<code>light_years</code><br><code>parsec</code>/<code>parsecs</code></td></tr>
<tr><td>Time</td><td><code>[T]</code></td><td><code>s</code><br>-<br>-<br>-<br>-<br>-<br>-<br>-<br>-<br>-</td><td><code>second</code>/<code>seconds</code><br><code>minute</code>/<code>minutes</code><br><code>hour</code>/<code>hours</code><br><code>day</code>/<code>days</code><br><code>week</code>/<code>weeks</code><br><code>month</code>/<code>months</code><br><code>year</code>/<code>years</code><br><code>decade</code>/<code>decades</code><br><code>century</code>/<code>centuries</code><br><code>millennium</code>/<code>millennia</code></td></tr>
<tr><td>Electric Current</td><td><code>[I]</code></td><td><code>A</code></td><td><code>amp</code>/<code>amps</code>/<code>ampere</code>/<code>amperes</code></td></tr>
<tr><td>Thermodynamic Temperature</td><td><code>[Θ]</code></td><td><code>K</code><br><code>°R</code>/<code>°Ra</code><br><code>°C</code><br><code>°F</code></td><td><code>kelvin</code><br><code>rankine</code>/<code>degrees_rankine</code><br><code>celsius</code>/<code>degrees_celsius</code><br><code>fahrenheit</code>/<code>degrees_fahrenheit</code></td></tr>
<tr><td>Amount of Substance</td><td><code>[N]</code></td><td><code>mol</code></td><td><code>mole</code>/<code>moles</code></td></tr>
<tr><td>Luminous Intensity</td><td><code>[J]</code></td><td><code>cd</code></td><td><code>candela</code>/<code>candelas</code></td></tr>
</tbody></table>
</div>
<p>(TODO: metric vs us vs etc. tons)</p>
<blockquote>
<p>Note: in SI, the base unit for mass is <code>kg</code>/<code>kilograms</code>, not <code>g</code>/<code>grams</code>. <code>k</code>/<code>kilo</code> is provided as a convenience to allow for a mass base unit without a prefix. e.g. <code>kilokilo</code> would be equivalent to <code>1000(kilograms)</code>.</p>
</blockquote>
<p>(TODO: exact durations of longer units. e.g. sidereal day vs solar day, etc.)</p>
<blockquote>
<p>Note: the plural of <code>kelvin</code> is <code>kelvin</code>, not <code>kelvins</code></p>
</blockquote>
<h2 id="named-derived-units"><a class="header" href="#named-derived-units">Named Derived Units</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Quantity</th><th>Abbrev. Units</th><th>Full Units</th></tr></thead><tbody>
<tr><td>Plane Angle</td><td><code>rad</code><br><code>°</code></td><td><code>radian</code>/<code>radians</code><br><code>degree</code>/<code>degrees</code></td></tr>
<tr><td>Solid Angle</td><td><code>sr</code></td><td><code>steradian</code>/<code>steradians</code></td></tr>
<tr><td>Frequency</td><td><code>Hz</code></td><td><code>hertz</code></td></tr>
<tr><td>Force / Weight</td><td><code>N</code><br><code>lb</code>/<code>lbf</code></td><td><code>newton</code>/<code>newtons</code><br><code>pound</code>/<code>pounds</code>/<code>pound-force</code>/<code>pounds-force</code></td></tr>
<tr><td>Pressure / Stress</td><td><code>Pa</code><br><code>atm</code><br><code>bar</code><br><code>psi</code><br><code>torr</code><br><code>mmHg</code><br><code>inH2O</code></td><td><code>pascal</code>/<code>pascals</code><br><code>atmosphere</code>/<code>atmospheres</code><br><code>bar</code><br><code>pounds_per_square_inch</code><br><code>torr</code><br><code>millimeters_of_mercury</code><br><code>inches_of_water</code></td></tr>
<tr><td>Energy / Work / Heat</td><td><code>J</code><br><code>cal</code><br><code>Cal</code>*<br><code>BTU</code><br><code>eV</code><br><code>Wh</code><br><code>erg</code></td><td><code>joule</code>/<code>joules</code><br><code>calorie</code>/<code>calories</code><br><code>kilocalorie</code>/<code>kilocalories</code><br><code>british_thermal_unit</code>/<code>british_thermal_units</code><br><code>electron_volt</code>/<code>electron_volts</code><br><code>watt_hour</code>/<code>watt_hours</code><br><code>erg</code>/<code>ergs</code></td></tr>
<tr><td>Power / Radiant Flux</td><td><code>W</code><br><code>hp</code></td><td><code>watt</code>/<code>watts</code><br><code>horsepower</code></td></tr>
<tr><td>Electric Charge / Quantity of Electricity</td><td><code>C</code></td><td><code>coulomb</code>/<code>coulombs</code></td></tr>
<tr><td>Voltage / Electrical Potential / EMF</td><td><code>V</code></td><td><code>volt</code>/<code>volts</code></td></tr>
<tr><td>Capacitance</td><td><code>F</code></td><td><code>farad</code>/<code>farads</code></td></tr>
<tr><td>Reistance / Impedance / Reactance</td><td><code>Ω</code></td><td><code>ohm</code>/<code>ohms</code></td></tr>
<tr><td>Electrical Conductance</td><td><code>S</code></td><td><code>siemens</code></td></tr>
<tr><td>Magnetic Flux</td><td><code>Wb</code></td><td><code>weber</code>/<code>webers</code></td></tr>
<tr><td>Magnetic Flux Density</td><td><code>T</code></td><td><code>tesla</code>/<code>teslas</code></td></tr>
<tr><td>Inductance</td><td><code>H</code></td><td><code>henry</code>/<code>henries</code></td></tr>
<tr><td>Luminous Flux</td><td><code>lm</code></td><td><code>lumen</code>/<code>lumens</code></td></tr>
<tr><td>Illuminance</td><td><code>lx</code></td><td><code>lux</code>/<code>luxes</code></td></tr>
<tr><td>Radioactivity (Decays per unit time)</td><td><code>Bq</code></td><td><code>becquerel</code>/<code>becquerels</code></td></tr>
<tr><td>Absorbed Dose (of Ionizing Radiation)</td><td><code>Gy</code></td><td><code>gray</code>/<code>grays</code></td></tr>
<tr><td>Equivalent Dose (of Ionising Radiation)</td><td><code>Sv</code></td><td><code>sievert</code>/<code>sieverts</code></td></tr>
<tr><td>Catalytic Activity</td><td><code>kat</code></td><td><code>katal</code>/<code>katals</code></td></tr>
</tbody></table>
</div>
<blockquote>
<p>Note: <code>Cal</code> is equivalent to <code>kcal</code> or <code>kilocalorie</code> (i.e. <code>1000(calories)</code>).</p>
</blockquote>
<h2 id="weird-units"><a class="header" href="#weird-units">Weird Units</a></h2>
<p>(TODO-&gt;all other units + weird units. e.g. drops)</p>
<h2 id="other-units"><a class="header" href="#other-units">Other Units</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Quantity</th><th>Abbrev. Units</th><th>Full Units</th></tr></thead><tbody>
<tr><td>Information</td><td><code>b</code>/<code>bit</code><br><code>B</code>/<code>byte</code></td><td><code>bit</code>/<code>bits</code><br><code>byte</code>/<code>bytes</code></td></tr>
</tbody></table>
</div>
<p>(TODO: where do decibels go? <code>B</code> is already taken by <code>byte</code>... perhaps the user can select what units get imported by importing units from different domains, e.g. <code>import units from si</code> or <code>import units from information</code>)
(TODO: other units to add: <code>Hz</code>, <code>liter</code>, <code>gallon</code>, <code>oz</code>, <code>phon</code>/<code>lufs</code>/other sound intensity related units)</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="string-interpolation"><a class="header" href="#string-interpolation">String Interpolation</a></h1>
<p>Including variable values inside of a string is handled with string interpolation. </p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_age%20%3D%2024%0Amy_string%20%3D%20%27I%20am%20%7Bmy_age%7D%20years%20old%27%0Aprintl%28my_string%29&id=DewyIframe14"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe14"
    frameBorder="0"
></iframe>
<p>which will print the string <code>I am 24 years old</code>. Any arbitrary expression can be contained inside of the curly braces. For expressions that are not a string by default, the <code>__str__</code> method will be called on them to get the string version.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="basic-data-types"><a class="header" href="#basic-data-types">Basic Data Types</a></h1>
<h2 id="numeric"><a class="header" href="#numeric">Numeric</a></h2>
<p>Numeric data is what it sounds like, values that represent a number</p>
<h3 id="numbers"><a class="header" href="#numbers">Numbers</a></h3>
<p>Numbers are the base case for numerical values, with each subsequent type being a more specific / restricted version of the number class.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_number%20%3D%2010&id=DewyIframe15"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe15"
    frameBorder="0"
></iframe>
<h3 id="integers"><a class="header" href="#integers">Integers</a></h3>
<p>Integers are numbers that do not contain any decimal component. By default, integers can be arbitrarily large, but fixed width integers are also possible</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_int%20%3D%20-12%20as%20int%0Amy_int32%20%3D%2042%20as%20int32%0A%0Amy_uint%20%3D%2015%20as%20uint%0Amy_uint64%20%3D%202001%20as%20uint64&id=DewyIframe16"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe16"
    frameBorder="0"
></iframe>
<p>The full list of integer types includes</p>
<div class="table-wrapper"><table><thead><tr><th>Type</th><th>Description</th><th>Range</th></tr></thead><tbody>
<tr><td>int</td><td>Arbitrary precision signed integer</td><td><code>(-inf..inf)</code></td></tr>
<tr><td>int8</td><td>8-bit signed integer</td><td><code>[-128..127]</code></td></tr>
<tr><td>int16</td><td>16-bit signed integer</td><td><code>[-32768..32767]</code></td></tr>
<tr><td>int32</td><td>32-bit signed integer</td><td><code>[-2147483648..2147483647]</code></td></tr>
<tr><td>int64</td><td>64-bit signed integer</td><td><code>[-9223372036854775808..9223372036854775807]</code></td></tr>
<tr><td>int128</td><td>128-bit signed integer</td><td><code>[-170141183460469231731687303715884105728</code>­<code>..170141183460469231731687303715884105727]</code></td></tr>
<tr><td>uint</td><td>Arbitrary precision unsigned integer</td><td><code>[0..inf)</code></td></tr>
<tr><td>uint8</td><td>8-bit unsigned integer</td><td><code>[0..255]</code></td></tr>
<tr><td>uint16</td><td>16-bit unsigned integer</td><td><code>[0..65535]</code></td></tr>
<tr><td>uint32</td><td>32-bit unsigned integer</td><td><code>[0..4294967295]</code></td></tr>
<tr><td>uint64</td><td>64-bit unsigned integer</td><td><code>[0..18446744073709551615]</code></td></tr>
<tr><td>uint128</td><td>128-bit unsigned integer</td><td><code>[0..340282366920938463463374607431768211455]</code></td></tr>
</tbody></table>
</div>
<h3 id="custom-ranged-integers"><a class="header" href="#custom-ranged-integers">Custom Ranged Integers</a></h3>
<p>You can create integer types with a custom range by specifying the range as part of the type annotation</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_custom_number%3Aint%3Crange%3D%5B42..%29%3E%20%3D%2042&id=DewyIframe17"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe17"
    frameBorder="0"
></iframe>
<p>TBD for behavior when value goes out of bounds. Perhaps result will be undefined, or there can be a type setting for wrap around</p>
<h3 id="fixed-point"><a class="header" href="#fixed-point">Fixed Point</a></h3>
<p>Fixed point will be stored as two integers, <code>digits</code> and <code>shift</code> where the value is <code>digits * 10^shift</code></p>
<p>TBD on the syntax for declaring a fixed point number. likely to be a function call e.g.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_fixed_point%20%3D%20fixed_point%283141592%20-6%29&id=DewyIframe18"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe18"
    frameBorder="0"
></iframe>
<h3 id="rational"><a class="header" href="#rational">Rational</a></h3>
<p>Rational numbers are stored as two integers, the <code>numerator</code> and the <code>denominator</code>, where the value is <code>numerator / denominator</code></p>
<p>TBD on the syntax for declaring a rational number. likely to be a function call e.g.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_rational%20%3D%20rational%2822%207%29%20%25rational%20approximation%20of%20pi&id=DewyIframe19"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe19"
    frameBorder="0"
></iframe>
<h3 id="real"><a class="header" href="#real">Real</a></h3>
<p>Real numbers are positive and negative numbers that can have a decimal component to them. The default real will be stored as a <code>float64</code> i.e. a 64-bit floating point number, but other widths (and potentially arbitrary precision) are possible</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_real%20%3D%203.1415%0Amy_real32%20%3D%2054.54%20as%20real32%0Amy_real64%20%3D%20233.511534%20as%20real64&id=DewyIframe20"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe20"
    frameBorder="0"
></iframe>
<h3 id="boolean"><a class="header" href="#boolean">Boolean</a></h3>
<p>Standard true/false type</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_bool%20%3D%20true&id=DewyIframe21"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe21"
    frameBorder="0"
></iframe>
<h3 id="complex"><a class="header" href="#complex">Complex</a></h3>
<p>complex numbers</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_complex0%20%3D%202%5E/2%20%2B%202i%5E/2%0Amy_complex1%20%3D%20complex%282%5E/2%202%5E/2%29%0Amy_complex2%20%3D%20complex%281%2045%C2%B0%29%0Amy_complex3%20%3D%201%20%E2%88%A0%2045%C2%B0&id=DewyIframe22"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe22"
    frameBorder="0"
></iframe>
<h3 id="quaternions"><a class="header" href="#quaternions">Quaternions</a></h3>
<p>Quaternions</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=q%20%3D%201%20%2B%202i%20%2B%203j%20%2B%204k%0AQ%20%3D%201%20%2B%202I%20%2B%203J%20%2B%204K%20%20%20%25%20can%20use%20lower%20or%20uppercase&id=DewyIframe23"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe23"
    frameBorder="0"
></iframe>
<h2 id="misc"><a class="header" href="#misc">MISC.</a></h2>
<p>Other datatypes (probably include on this page)</p>
<ul>
<li>strings</li>
<li>symbolics</li>
<li>units</li>
<li>types</li>
<li>enums or tokens</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="container-types"><a class="header" href="#container-types">Container Types</a></h1>
<p>Container types are things like arrays, dictionaries, and sets. all containers are specified using square brackets <code>[]</code>, while the contents (or other factors) determine the type of container</p>
<h2 id="arrays"><a class="header" href="#arrays">Arrays</a></h2>
<p>An array is simple a list of values inside a container</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_array%20%3D%20%5B0%201%202%203%20%27apple%27%20%27banana%27%20%27peach%27%20true%5D%0Aprintl%28my_array%5B3%5D%29%20%20%25prints%20%273%27&id=DewyIframe24"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe24"
    frameBorder="0"
></iframe>
<blockquote>
<p>Note: values do not need commas to separate them. Also arrays can contain objects of different types, though arrays where all values are just a single type will be more efficient. Arrays are 0-indexed (with potentially the option to set an arbitrary index)</p>
</blockquote>
<p>TODO-&gt;explain how to make matrices and other linear algebra stuff.</p>
<h2 id="dictionaries"><a class="header" href="#dictionaries">Dictionaries</a></h2>
<p>A dictionary is a list of key-value pairs</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_dictionary%20%3D%20%5B%0A%20%20%20%20%27apple%27%20-%3E%2010%0A%20%20%20%20%27banana%27%20-%3E%2015%0A%20%20%20%20%27peach%27%20-%3E%203%0A%20%20%20%20%27pear%27%20-%3E%206%0A%5D%0Aprintl%28my_dictionary%5B%27peach%27%5D%29%20%20%25prints%20%273%27&id=DewyIframe25"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe25"
    frameBorder="0"
></iframe>
<p>Again note the lack of a need for comma separation between key-value pairs.</p>
<p>Additionally if you wish, you can define a bi-directional dictionary using a double-ended arrow:</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_bidictionary%20%3D%20%5B%0A%20%20%20%200%20%3C-%3E%20%27zero%27%0A%20%20%20%201%20%3C-%3E%20%27one%27%0A%20%20%20%20%27two%27%20%3C-%3E%202%0A%20%20%20%203%20%3C-%3E%20%27three%27%0A%5D%0Aprintl%28my_bidictionary%5B%27three%27%5D%29%20%20%25prints%20%273%27%0Aprintl%28my_bidictionary%5B3%5D%29%20%20%20%20%20%20%20%20%25prints%20%27three%27&id=DewyIframe26"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe26"
    frameBorder="0"
></iframe>
<blockquote>
<p>Note: when creating a bidictionary, every arrow must by double-ended. As new elements are added, the bidictionary will maintain the bidirectional links between each element. Regular dictionaries will not maintin such links.</p>
</blockquote>
<h2 id="sets"><a class="header" href="#sets">Sets</a></h2>
<p>A set is an unordered collection of elements</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_set%20%3D%20set%5B0%201%202%203%20%27apple%27%20%27banana%27%20%27peach%27%20true%5D%0Aprintl%283%20in%3F%20my_set%29%20%20%25prints%20%27true%27%0Aprintl%28%27pear%27%20in%3F%20my_set%29%20%20%25prints%20%27false%27&id=DewyIframe27"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe27"
    frameBorder="0"
></iframe>
<h2 id="objects"><a class="header" href="#objects">Objects</a></h2>
<p>See the entry on <strong>Object and Class Types</strong> for more details. But breifly, an object can be created by wrapping declarations in a container</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_obj%20%3D%20%5B%0A%20%20%20%20apple%20%3D%205%0A%20%20%20%20bananas%20%3D%200.89%0A%20%20%20%20buy_apples%20%3D%20q%20%3D%3E%20q%20%2A%20apples%0A%20%20%20%20buy_bananas%20%3D%20q%20%3D%3E%20q%20%2A%20bananas%0A%5D%0A%0Aprintl%28my_obj.apples%29%20%25prints%20out%205%0Aprintl%28my_obj.buy_bananas%2810%29%29%20%20%25prints%20out%208.9&id=DewyIframe28"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe28"
    frameBorder="0"
></iframe>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ranges"><a class="header" href="#ranges">Ranges</a></h1>
<p>A range represents some span over a set of values. Typically ranges will be over numbers, however any orderable set could be used for a range (e.g. strings, dates, etc.). Ranges are frequently used for loops, indexing, and several other places.</p>
<p>Ranges always contain a <code>..</code> and may include left and or right values that are juxtaposed, optionally specifying the bounds and step size.</p>
<h2 id="range-syntax"><a class="header" href="#range-syntax">Range Syntax</a></h2>
<p>The syntax for ranges is inspired by Haskell syntax for ranges:</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=%5Bfirst..%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%25%20first%20to%20inf%0A%5B..last%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%25%20-inf%20to%20last%0A%5Bfirst..last%5D%20%20%20%20%20%20%20%20%20%20%20%25%20first%20to%20last%0A%5B..%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%25%20-inf%20to%20inf&id=DewyIframe29"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe29"
    frameBorder="0"
></iframe>
<p>Like in haskell, you can use a tuple to include a second value to specify the step size.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=%5Bfirst%2Csecond..%5D%20%20%20%20%20%20%20%20%25%20first%20to%20inf%2C%20step%20size%20is%20second-first%0A%5Bfirst%2Csecond..last%5D%20%20%20%20%25%20first%20to%20last%2C%20step%20size%20is%20second-first%0A%5B..2ndlast%2Clast%5D%20%20%20%20%20%20%20%20%25%20-inf%20to%20last%2C%20step%20size%20is%20last-2ndlast&id=DewyIframe30"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe30"
    frameBorder="0"
></iframe>
<blockquote>
<p>Note: <code>[first..2ndlast,last]</code> is explicitly <strong>NOT ALLOWED</strong>, as it can have unintuitive behavior, and is covered by <code>[first,second..last]</code>.</p>
</blockquote>
<p>In addition, ranges can have their bounds be inclusive or exclusive. Inclusive bounds are indicated by square brackets, and exclusive bounds are indicated by parenthesis. The default is inclusive bounds. Also left and right bounds can be specified independently, so you can have a range that is inclusive on the left and exclusive on the right, or vice versa.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=%5Bfirst..last%5D%20%20%20%25%20first%20to%20last%20including%20first%20and%20last%0A%5Bfirst..last%29%20%20%20%25%20first%20to%20last%20including%20first%2C%20excluding%20last%0A%28first..last%5D%20%20%20%25%20first%20to%20last%20excluding%20first%2C%20including%20last%0A%28first..last%29%20%20%20%25%20first%20to%20last%20excluding%20first%20and%20last%0Afirst..last%20%20%20%20%20%25%20same%20as%20%5Bfirst..last%5D.%20Careful%20of%20precedence&id=DewyIframe31"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe31"
    frameBorder="0"
></iframe>
<h3 id="juxtaposition"><a class="header" href="#juxtaposition">Juxtaposition</a></h3>
<p>The left and right values are only considered part of the range if they are juxtaposed with the <code>..</code>. Values not juxtaposed with the range are considered separate expressions.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=first..last%20%20%20%20%20%25%20first%20to%20last%0Afirst%20..last%20%20%20%20%25%20-inf%20to%20last.%20first%20is%20not%20part%20of%20the%20range%0Afirst..%20last%20%20%20%20%25%20first%20to%20inf.%20last%20is%20not%20part%20of%20the%20range%0Afirst%20..%20last%20%20%20%25%20-inf%20to%20inf.%20neither%20first%20or%20last%20are%20part%20of%20the%20range&id=DewyIframe32"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe32"
    frameBorder="0"
></iframe>
<blockquote>
<p>Note: the range juxtaposition operator has a quite low precedence. Most operators will have higher precedence, meaning the left and right expressions don't need to be wrapped in parenthesis.
However, due to range juxtapose's low precedence, any range as part of an <code>in</code> expression (e.g. <code>a in [A..B]</code>) must be wrapped in range bounds (i.e. <code>[]</code>, <code>(]</code>, <code>[)</code>, <code>()</code>) to ensure the range is parsed correctly. <code>a in A..B</code> will be parsed as <code>(a in A)..B</code> .</p>
</blockquote>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=first..last%2B1%20%20%20%20%20%20%20%20%20%20%20%25%20first%20to%20last%2B1%0Afirst%2Csecond..last/2%20%20%20%20%25%20first%20to%20last/2%2C%20step%20size%20is%20second-first%0Afirst/2%2Cfirst..last%2B10%20%20%25%20first/2%20to%20last%2B10%2C%20step%20size%20is%20first/2%0Aa%20in%20%5Bfirst..last%5D%20%20%20%20%20%20%25%20iterate%20a%20over%20range%20first%20to%20last&id=DewyIframe33"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe33"
    frameBorder="0"
></iframe>
<p>Multiple ranges can be used to index into multidimensional matrices</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_array%20%3D%20%5B%0A%20%20%20%200%201%202%203%204%205%206%207%208%209%0A%20%20%20%2010%2011%2012%2013%2014%2015%2016%2017%2018%2019%0A%20%20%20%2020%2021%2022%2023%2024%2025%2026%2027%2028%2029%0A%5D%0Amy_array%5B1..%206..%5D%20%20%20%20%20%25returns%20%5B16%2017%2018%2019%3B%2026%2027%2028%2029%5D&id=DewyIframe34"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe34"
    frameBorder="0"
></iframe>
<h2 id="numeric-ranges"><a class="header" href="#numeric-ranges">Numeric Ranges</a></h2>
<p>Probably the most common type of range will be a numeric ranges which describes a span over real numbers.</p>
<p>Some simple examples include:</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=range1%20%3D%20%281..5%29%20%20%25%202%203%204%0Arange2%20%3D%20%281..5%5D%20%20%25%202%203%204%205%0Arange3%20%3D%20%5B1..5%29%20%20%25%201%202%203%204%0Arange4%20%3D%20%5B1..5%5D%20%20%25%201%202%203%204%205%0Arange5%20%3D%201..5%20%20%20%20%25%201%202%203%204%205&id=DewyIframe35"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe35"
    frameBorder="0"
></iframe>
<h2 id="ordinal-ranges"><a class="header" href="#ordinal-ranges">Ordinal Ranges</a></h2>
<p>Ranges can also be constructed using any ordinal type. Currently the only only built in ordinal type other than numbers would be strings.</p>
<p>For example, the following range captures all characters in the range from <code>'a'</code> to <code>'z'</code> inclusive</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=ord_range%20%3D%20%27a%27..%27z%27&id=DewyIframe36"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe36"
    frameBorder="0"
></iframe>
<p>All alphabetical characters might be represented like so</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=alpha_range%20%3D%20%5B%27a%27..%27z%27%5D%20%2B%20%5B%27A%27..%27Z%27%5D%0Aascii_range%20%3D%20%27A%27..%27z%27%20%25this%20would%20include%20extra%20characters%20like%20%27%5B%5C%5D%5E_%7B%7C%7D%27%20etc.&id=DewyIframe37"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe37"
    frameBorder="0"
></iframe>
<p>But I probably won't just be limited to individual characters. In principle you ought to be able to do something like this</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=word_range%20%3D%20%27apple%27..%27zebra%27%0A%27panda%27%20in%3F%20word_range%20%20%25returns%20true&id=DewyIframe38"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe38"
    frameBorder="0"
></iframe>
<p>which would create a range that consists of every possible 5 letter combination starting from the word <code>'apple'</code> and iterating through to the word <code>'zebra'</code>.</p>
<blockquote>
<p>Note: this is distinct from every dictionary word in that range, as it will include many many gibberish words.</p>
</blockquote>
<p>TDB exactly what criteria will be used for ordering strings, as I like string orderings that respect numbers embedded in them (e.g. <code>'apple2'</code> should come before <code>'apple10'</code>), but that becomes difficult with arbitrary strings. perhaps there might be a macro setting for the ordering type used</p>
<h2 id="range-uses"><a class="header" href="#range-uses">Range Uses</a></h2>
<p>Ranges have a variety of different uses in Dewy.</p>
<h3 id="ranges-in-loops"><a class="header" href="#ranges-in-loops">Ranges in Loops</a></h3>
<p>Probably the most common use is in conjunction with loops as a sequence to iterate over:</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=loop%20i%20in%20%5B0..5%5D%20print%27%7Bi%7D%20%27&id=DewyIframe39"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe39"
    frameBorder="0"
></iframe>
<p>The above will print <code>'0 1 2 3 4 5 '</code>.</p>
<p>To iterate over values in reverse, you can specify a reversed range:</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=loop%20i%20in%20%5B5%2C4..0%5D%20print%27%7Bi%7D%20%27&id=DewyIframe40"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe40"
    frameBorder="0"
></iframe>
<p>This prints <code>'5 4 3 2 1 0 '</code>.</p>
<blockquote>
<p>Note: when specifying a reversed range, you must include the step size. Forgetting to specify the step size will result in an empty range, as ranges are normally increasing.</p>
</blockquote>
<h3 id="range-arithmetic"><a class="header" href="#range-arithmetic">Range Arithmetic</a></h3>
<p>Ranges can be used in arithmetic expressions, often as a way to construct new ranges.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=%25division%20version%0Aloop%20i%20in%20%5B0..4%5D/4%20print%27%7Bi%7D%20%27%0A%0A%25multiplication%20version%0Aloop%20i%20in%20%5B0..4%5D%2A0.25%20print%27%7Bi%7D%20%27&id=DewyIframe41"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe41"
    frameBorder="0"
></iframe>
<p>Both of which will print <code>'0 0.25 0.5 0.75 1 '</code></p>
<p>These are both equivalent to directly constructing the range <code>[0,0.25..1]</code>, however the arithmetic versions are frequently more convenient.</p>
<p>This type of construction is closely related to the <code>linspace()</code>/<code>logspace()</code> functions in Dewy. TBD but <code>linspace</code>/<code>logspace</code> may in fact be implemented like so:</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=linspace%20%3D%20%28interval%3Arange%20n%3Aint%3D10%29%20%3D%3E%20%7B%0A%20%20%20%20%5Bstart%20stop%5D%20%3D%20%5Binterval.start%20interval.stop%5D%0A%20%20%20%20step%20%3D%20%28stop-start%29/%28n-1%29%0A%20%20%20%20return%20start%2Cstart%2Bstep..stop%0A%7D%0Alogspace%20%3D%20%28interval%3Arange%20n%3Aint%3D10%20base%3Areal%3D10%29%20%3D%3E%20base%5Elinspace%28interval%20n%29&id=DewyIframe42"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe42"
    frameBorder="0"
></iframe>
<h3 id="compound-range-construction"><a class="header" href="#compound-range-construction">Compound Range Construction</a></h3>
<p>Additionally you can construct more complex ranges by combining together multiple ranges:</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=complex_range%20%3D%20%5B1..5%5D%20%2B%20%2815..20%29%0Aloop%20i%20in%20complex_range%0A%20%20%20%20printl%28i%29%20%20%20%20%20%20%20%20%20%20%20%25prints%201%202%203%204%205%2016%2017%2018%2019%0A7%20in%3F%20complex_range%20%20%20%20%20%25returns%20false%0A16%20in%3F%20complex_range%20%20%20%20%25returns%20true&id=DewyIframe43"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe43"
    frameBorder="0"
></iframe>
<p>The same range as above can be constructed using subtraction</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=complex_range%20%3D%20%5B1..20%29%20-%20%285..15%5D&id=DewyIframe44"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe44"
    frameBorder="0"
></iframe>
<h3 id="interval-membership"><a class="header" href="#interval-membership">Interval Membership</a></h3>
<p>You can also check if a value falls within a specified range</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=5%20in%3F%20%5B1..5%5D%20%20%20%20%20%20%20%20%20%25returns%20true%0A5%20in%3F%20%281..5%29%20%20%20%20%20%20%20%20%20%25returns%20false%0A3.1415%20in%3F%20%281..5%29%20%20%20%20%25returns%20true&id=DewyIframe45"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe45"
    frameBorder="0"
></iframe>
<h3 id="indexing-sequences"><a class="header" href="#indexing-sequences">Indexing Sequences</a></h3>
<p>ranges can be used to select values from a sequence. For example, say we want a substring we can do the following</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=full_string%20%3D%20%27this%20is%20a%20string%27%0A%0Asubstring%20%3D%20full_string%5B3..12%5D%0Aprintl%28substring%29%20%25prints%20%27s%20is%20a%20str%27&id=DewyIframe46"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe46"
    frameBorder="0"
></iframe>
<p>This works for any sequence type.</p>
<blockquote>
<p>Note: only integer ranges can be used to index into sequences (TBD if this might be relaxed to real valued ranges).</p>
</blockquote>
<p>Also, because array access is a juxtapose expression, we can easily make the selection inclusive or exclusive on either side.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=full_string%20%3D%20%27this%20is%20a%20string%27%0A%0Asubstring1%20%3D%20full_string%283..12%29%20%20%25%20%27%20is%20a%20st%27%0Asubstring2%20%3D%20full_string%5B3..12%29%20%20%25%20%27s%20is%20a%20st%27%0Asubstring3%20%3D%20full_string%283..12%5D%20%20%25%20%27%20is%20a%20str%27&id=DewyIframe47"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe47"
    frameBorder="0"
></iframe>
<p>You can specify that a range continues to the end of the sequence, or starts from the beginning by omitting the value for that side. This will construct a range that goes to infinity in that direction, which will select all elements in that direction.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=full_string%20%3D%20%27this%20is%20a%20string%27%0A%0Asubstring_to_end%20%3D%20full_string%5B3..%5D%20%20%20%20%20%20%25%20%27s%20is%20a%20string%27%0Asubstring_from_start%20%3D%20full_string%5B..12%5D%20%25%20%27this%20is%20a%20str%27%0Awhole_string%20%3D%20full_string%5B..%5D%20%20%20%20%20%20%20%20%20%20%20%25selects%20the%20whole%20string&id=DewyIframe48"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe48"
    frameBorder="0"
></iframe>
<p>Paired with the special <code>end</code> token which represents the index of the last element in a sequence, this provides the means to select any desired subset of a sequence.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=arr%5Bend%5D%20%20%20%20%20%20%25%20last%20element%0Aarr%5Bend-1%5D%20%20%20%20%25%20second%20to%20last%20element%0Aarr%5B..end-3%5D%20%20%25%20first%20element%20to%204th%20to%20last%20element%0Aarr%5B5..end-3%5D%20%25%205th%20element%20to%204th%20to%20last%20element%0Aarr%5Bend-3..%5D%20%20%25%204th%20to%20last%20element%20to%20last%20element&id=DewyIframe49"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe49"
    frameBorder="0"
></iframe>
<div style="break-before: page; page-break-before: always;"></div><h1 id="object-and-class-types"><a class="header" href="#object-and-class-types">Object and Class Types</a></h1>
<p>Object types are basically just containers containing assignments of variables and functions</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_obj%20%3D%20%5B%0A%20%20%20%20a%20%3D%20%27apple%27%0A%20%20%20%20b%20%3D%20%27banana%27%0A%20%20%20%20c%20%3D%20%27cat%27%0A%5D&id=DewyIframe50"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe50"
    frameBorder="0"
></iframe>
<p>You can access the members of the object using the <code>.</code> accessor</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_obj.a%20%20%25returns%20%27apple%27%0Amy_obj.c%20%20%25returns%20%27cat%27&id=DewyIframe51"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe51"
    frameBorder="0"
></iframe>
<p>To create an object constructor (like many languages have classes that you can instantiate) we create a function that returns an object</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=constructor%20%3D%20%28param1%20param2%29%20%3D%3E%20%7B%0A%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20p1%20%3D%20param1%0A%20%20%20%20%20%20%20%20p2%20%3D%20param2%0A%20%20%20%20%5D%0A%7D%0A%0Amy_obj%20%3D%20constructor%2842%20%27pi%27%29%0Amy_obj.p1%20%20%25returns%2042%0Amy_obj.p2%20%20%25returns%20%27pi%27&id=DewyIframe52"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe52"
    frameBorder="0"
></iframe>
<p>You can also store functions inside of objects, allowing objects to completely cover regular object behaviors from other languages</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=constructor%20%3D%20%28param1%20param2%29%20%3D%3E%20%7B%0A%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20p1%20%3D%20param1%0A%20%20%20%20%20%20%20%20p2%20%3D%20param2%0A%20%20%20%20%20%20%20%20func%20%3D%20%28%29%20%3D%3E%20printl%28%27p1%20is%20%7Bp1%7D%20and%20p2%20is%20%7Bp2%7D%27%29%0A%20%20%20%20%5D%0A%7D&id=DewyIframe53"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe53"
    frameBorder="0"
></iframe>
<p>There will not be any sort of <code>this</code> or <code>self</code> parameter as in other languages to access an objects members from within itself/any contained functions. Instead because the functions are at the same scope as the declaration of the objects members, those members are available to the function.</p>
<p>If we remove any unnecessary syntax, the shorthand for constructing an object looks like this:</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_class0%20%3D%20param1%20%3D%3E%20%5B%0A%20%20%20%20p1%20%3D%20param1%0A%20%20%20%20func%20%3D%20%28%29%20%3D%3E%20printl%28%27p1%20is%20%7Bp1%7D%27%29%0A%5D&id=DewyIframe54"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe54"
    frameBorder="0"
></iframe>
<p>that is, just a function that returns an object literal, no need for braces or <code>return</code>.</p>
<h2 id="dunder-methods"><a class="header" href="#dunder-methods">Dunder Methods</a></h2>
<p>Similar to python, objects can define custom so-called &quot;double-underscore&quot; or &quot;dunder&quot; methods, which hook into the language's built-in functionality.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=%25%20Define%20a%20point%20class%20with%20a%20custom%20add%20method%0APoint%20%3D%20%28x%3Anumber%20y%3Anumber%29%20%3D%3E%20%5B%0A%20%20%20%20x%20%3D%20x%20%20%25TBD%20if%20these%20are%20necessary%20since%20x/y%20are%20already%20in%20scope%0A%20%20%20%20y%20%3D%20y%0A%20%20%20%20__add__%20%3D%20other%3APoint%20%3D%3E%20Point%28x%2Bother.x%20y%2Bother.y%29%0A%20%20%20%20__repr__%20%3D%20%28%29%20%3D%3E%20%27Point%28%7Bx%7D%2C%20%7By%7D%29%27%0A%20%20%20%20__str__%20%3D%20%28%29%20%3D%3E%20%27%28%7Bx%7D%2C%20%7By%7D%29%27%0A%5D%0A%0A%25%20Create%20two%20points%20and%20add%20them%20together%0Ap1%20%3D%20Point%281%202%29%0Ap2%20%3D%20Point%283%204%29%0Ap3%20%3D%20p1%20%2B%20p2%0Aprintl%28p3%29%20%20%25prints%20Point%284%206%29&id=DewyIframe55"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe55"
    frameBorder="0"
></iframe>
<p>Though actually for <code>__add__</code>, it might make more sense for it to be global, and you add an alternate that gets dispatched on rather than including it in the object itself:</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=__add__%20%7C%3D%20%28a%3APoint%20b%3APoint%29%20%3D%3E%20Point%28a.x%2Bb.x%20a.y%2Bb.y%29&id=DewyIframe56"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe56"
    frameBorder="0"
></iframe>
<p>(TODO: longer explanation)</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="function-types"><a class="header" href="#function-types">Function Types</a></h1>
<p>Functions are first class citizens in Dewy. In fact many concepts from functional programming are included in Dewy, as they frequently allow for cleaner and more concise code.</p>
<h2 id="function-literals"><a class="header" href="#function-literals">Function Literals</a></h2>
<p>To create a function, simply bind a function literal to a variable</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_function%20%3D%20%28%29%20%3D%3E%20%7B%20printl%27You%20called%20my%20function%21%27%20%7D%0A%0Amy_function%20%20%25calls%20the%20function&id=DewyIframe57"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe57"
    frameBorder="0"
></iframe>
<p>A function literal consists of the arguments, followed by the <code>=&gt;</code> operator, followed by a single expression that is the function body. In the above example, the function takes no input arguments, and doesn't return any values. Instead is simply prints a string to the terminal.</p>
<p>Here's an example that takes two arguments</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=pythag_length%20%3D%20%28a%20b%29%20%3D%3E%20%7B%20return%20%28a%5E2%20%2B%20b%5E2%29%5E/2%20%7D&id=DewyIframe58"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe58"
    frameBorder="0"
></iframe>
<p>In fact we can simplify the above function's declaration quite a bit since blocks return expressions present in the body.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=pythag_length%20%3D%20%28a%20b%29%20%3D%3E%20%28a%5E2%20%2B%20b%5E2%29%5E/2&id=DewyIframe59"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe59"
    frameBorder="0"
></iframe>
<p>When there is a single argument, you may omit the parenthesis around the argument list</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=square%20%3D%20x%20%3D%3E%20x%5E2&id=DewyIframe60"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe60"
    frameBorder="0"
></iframe>
<p>Zero arguments functions require an empty pair of parenthesis:</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=foo%20%3D%20%28%29%20%3D%3E%20printl%27bar%27&id=DewyIframe61"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe61"
    frameBorder="0"
></iframe>
<h3 id="default-arguments"><a class="header" href="#default-arguments">Default Arguments</a></h3>
<p>Function arguments can have default values, which are used if the argument is not specified in the function call.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=foo%20%3D%20%28a%20b%3D5%29%20%3D%3E%20a%20%2B%20b%0Afoo%283%29%20%20%20%20%20%20%25returns%208%0Afoo%283%20b%3D2%29%20%20%25returns%205%0A%0Abar%20%3D%20%28a%3Aint%20b%3Aint%3D5%20c%3Aint%3D10%29%20%3D%3E%20a%20%2B%20b%20%2B%20c%0Abar%283%29%20%20%20%20%20%20%25returns%2018%0Abar%283%20c%3D2%29%20%20%25returns%2010&id=DewyIframe62"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe62"
    frameBorder="0"
></iframe>
<h2 id="calling-functions"><a class="header" href="#calling-functions">Calling functions</a></h2>
<p>TODO</p>
<ul>
<li>calling a function with name, parenthesis, and args</li>
<li>functions with no arguments can omit the parenthesis</li>
</ul>
<h2 id="optional-name-only-and-positional-only-arguments"><a class="header" href="#optional-name-only-and-positional-only-arguments">Optional, Name-only and Positional-only Arguments</a></h2>
<p>TODO</p>
<ul>
<li>also explain about overwriting previously specified arguments (e.g. from partial evaluation, or in the same call)</li>
</ul>
<h2 id="scope-capture"><a class="header" href="#scope-capture">Scope Capture</a></h2>
<p>TODO</p>
<ul>
<li>what variables are available to a function's body</li>
</ul>
<h2 id="partial-function-evaluation"><a class="header" href="#partial-function-evaluation">Partial Function Evaluation</a></h2>
<p>First note that if you want to pass a function around as an object, you need to get a handle to the function using the <code>@</code> (&quot;handle&quot;) operator.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_func%20%3D%20%28%29%20%3D%3E%20printl%27foo%27%0A%0Areference_to_my_func%20%3D%20%40my_func&id=DewyIframe63"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe63"
    frameBorder="0"
></iframe>
<p>If you don't include the <code>@</code> operator, then the evaluation of the right-hand side would be stored into the left side</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=reference_to_my_func%20%3D%20my_func%20%20%25this%20doesn%27t%20work&id=DewyIframe64"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe64"
    frameBorder="0"
></iframe>
<p>what happens is <code>my_func</code> prints out &quot;foo&quot; to the command line, and then since it returns no value, <code>reference_to_my_func</code> is not able to be assigned, causing a compiler error. We'd also get a compiler error if <code>my_func</code> required arguments, as we essentially are trying to call my_func without an arguments.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=another_func%20%3D%20%28a%20b%20c%20x%29%20%3D%3E%20a%5E2%2Ax%20%2B%20b%2Ax%20%2B%20c%0A%0Agood_reference%20%3D%20%40another_func%0Abad_reference%20%3D%20another_func%20%20%25this%20causes%20a%20compilation%20error&id=DewyIframe65"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe65"
    frameBorder="0"
></iframe>
<p>Now, using the <code>@</code> operator, we can not only create a new reference to an existing function, but we can also <strong>apply arguments to the reference</strong>. What this means is we can fix the value of given arguments, allowing us to create a new function.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=sum%20%3D%20%28a%20b%29%20%3D%3E%20a%20%2B%20b%20%20%20%25simple%20addition%20function%0Aadd5%20%3D%20%40sum%285%29%20%20%20%20%20%20%20%20%20%20%25partially%20evaluate%20sum%20with%20a%3D5&id=DewyIframe66"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe66"
    frameBorder="0"
></iframe>
<p>Here we've created a new function <code>add5</code> which takes a single argument, and return the result of that argument plus 5.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=add5%2824%29%20%20%20%20%20%20%20%20%25returns%2029%0Aadd5%28-7%29%20%20%20%20%20%20%20%20%25returns%20-2%0A%0Athirtyseven%20%3D%20%40add5%2832%29%20%25new%20function%20that%20takes%200%20arguments%0Athirtyseven%20%20%20%25returns%2037&id=DewyIframe67"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe67"
    frameBorder="0"
></iframe>
<p>TODO-&gt;explain about overwriting arguments.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=new_sum%20%3D%20%28x%20y%29%20%3D%3E%20thirtyseven%28a%3Dx%20b%3Dy%29&id=DewyIframe68"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe68"
    frameBorder="0"
></iframe>
<div style="break-before: page; page-break-before: always;"></div><h1 id="operators"><a class="header" href="#operators">Operators</a></h1>
<p>Dewy is a 100% expression-based language, meaning everything is formed from small pieces combined together with operators. Dewy has 3 types of operators:</p>
<ul>
<li>unary prefix: come before the expression</li>
<li>binary infix: come between two expressions</li>
<li>unary postfix: come after the expression</li>
</ul>
<h2 id="binary-operators"><a class="header" href="#binary-operators">Binary Operators</a></h2>
<p>(TODO: this is missing several operators, and may have some extra ones that are no longer planned)</p>
<p><strong>Basic Math Operations</strong></p>
<ul>
<li><code>+</code> plus</li>
<li><code>-</code> minus</li>
<li><code>*</code> multiply</li>
<li><code>/</code> divide</li>
<li><code>//</code> truncated divide</li>
<li><code>mod</code> modulus</li>
<li><code>^</code> exponent</li>
</ul>
<p><strong>logical and bitwise operations</strong></p>
<blockquote>
<p>Note: these are logical if both operands are boolean, otherwise they are bitwise and operate on as many bits as the size of the largest operand</p>
</blockquote>
<ul>
<li><code>and</code> both are true</li>
<li><code>or</code> either are true</li>
<li><code>xor</code> exactly one is true</li>
<li><code>not</code> invert (unary)</li>
<li><code>nand</code> either is false</li>
<li><code>nor</code> both are false</li>
<li><code>xnor</code> both are false or both are true</li>
</ul>
<p><strong>bit-shift operations</strong></p>
<ul>
<li><code>&lt;&lt;!</code> rotate left through carry bit</li>
<li><code>!&gt;&gt;</code> rotate right through carry bit</li>
<li><code>&lt;&lt;&lt;</code> rotate left no carry bit</li>
<li><code>&gt;&gt;&gt;</code> rotate right no carry bit</li>
<li><code>&lt;&lt;</code> shift left (arithmetic and logical are the same for left-shift)</li>
<li><code>&gt;&gt;</code> shift right (arithmetic vs logical determined by whether signed or unsigned)</li>
</ul>
<p><strong>boolean returning operations</strong></p>
<ul>
<li><code>=?</code> equal<!-- - `not?` not equal --></li>
<li><code>&gt;?</code> greater than</li>
<li><code>&gt;=?</code> greater than or equal</li>
<li><code>&lt;?</code> less than</li>
<li><code>&lt;=?</code> less than or equal</li>
<li><code>in?</code> is a member of</li>
</ul>
<!-- **Special Operators**
- `<=>` spaceship (three-way comparison) -->
<p><strong>colon operator</strong></p>
<ul>
<li><code>:</code> apply a type annotation</li>
</ul>
<p><strong>dictionary pointers</strong></p>
<ul>
<li><code>-&gt;</code> indicates the left expression points to the right expression in the dictionary</li>
</ul>
<!-- - `<-` reverses the order, making the right expression the key, and the left the value -->
<ul>
<li><code>&lt;-&gt;</code> indicates that left is inserted as a key that points to right, and right is inserted as a key that points to left</li>
</ul>
<p><strong>Function pointer</strong></p>
<ul>
<li><code>=&gt;</code> used for declaring a function literal</li>
</ul>
<p><strong>handle operator</strong></p>
<ul>
<li><code>@</code> return a handle to the function or variable</li>
<li><code>@?</code> (probably) check if two references are point to the same thing</li>
</ul>
<p><strong>Assignment operators</strong></p>
<ul>
<li><code>=</code> binds the righthand expression to the lefthand identifier as a statement (i.e. nothing is returned)</li>
<li><code>:=</code> (walrus operator) same as normal assignment operator, but also returns the righthand side as an expression available for use.</li>
</ul>
<p><strong>Juxtaposition</strong></p>
<p>(TODO: explain how juxtaposition works)</p>
<h2 id="unary-prefix-operators"><a class="header" href="#unary-prefix-operators">Unary Prefix Operators</a></h2>
<p>(TODO: prefix operators)</p>
<h2 id="unary-postfix-operators"><a class="header" href="#unary-postfix-operators">Unary Postfix Operators</a></h2>
<p>(TODO: postfix operators)</p>
<h2 id="in-place-assignment"><a class="header" href="#in-place-assignment">In-place Assignment</a></h2>
<p>any of the logical/bitwise operators, as well as the boolean returning operators can be preceeded by <code>not</code> which will then cause the inverse of the operation to be returned. e.g. <code>not and</code> is equivalent to <code>nand</code>, <code>not &lt;?</code> is equivalent to <code>&gt;=?</code>, etc.</p>
<p>most binary operators can be appended with an <code>=</code> sign to make them into an assignment
e.g.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=a%20%2B%3D%205%20%20%25is%20equivalent%20to%20a%20%3D%20a%20%2B%205%0Aa%20%3C%3F%3D%205%20%20%25is%20equivalent%20to%20a%20%3D%20a%20%3C%3F%205%0Aa%20%21%3E%3E%3D%205%20%20%25is%20equivalent%20to%20a%20%3D%20a%20%21%3E%3E%205%0Aa%20xor%3D%20false%20%20%25is%20equivalent%20to%20a%20%3D%20a%20xor%20false&id=DewyIframe69"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe69"
    frameBorder="0"
></iframe>
<p>(TODO: This should also probably be able to be combined with element-wise/vectorized <code>.</code> operations where each element in the list is updated according to the operation (can be done in parallel))</p>
<h2 id="elementwise-operations"><a class="header" href="#elementwise-operations">Elementwise Operations</a></h2>
<p>the elementwise operator <code>.</code> can be prepended to most binary operators to make it be performed on each element in a array or sequence
e.g.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=%25find%20the%20prime%20factors%20of%2020%0Aa%20%3D%20%5B2%203%205%207%2011%2013%2017%2019%5D%20%20%25primes%20up%20to%2020%0Amods%20%3D%2020%20.mod%20a%20%20%25returns%20%5B0%202%200%206%209%207%203%201%5D%0Ais_factor%20%3D%20mods%20.%3D%3F%200%20%25returns%20%5Btrue%20false%20true%20false%20false%20false%20false%5D%0Ap_factors%20%3D%20a%5Bis_factor%5D%20%25returns%20%5B2%205%5D%0A%0A%25above%20in%20a%20single%20line%0Ap_factors%20%3D%20%5B2%203%205%207%2011%2013%2017%2019%5D%5B20%20.mod%20%5B2%203%205%207%2011%2013%2017%2019%5D%20.%3D%3F%200%5D%0A%0A%25though%20it%27s%20probably%20cleaner%20in%202%20lines%0Aprimes%20%3D%20%5B2%203%205%207%2011%2013%2017%2019%5D%0Ap_factors%20%3D%20primes%5B20%20.mod%20primes%20.%3D%3F%200%5D&id=DewyIframe70"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe70"
    frameBorder="0"
></iframe>
<p>This works if either the either first operand is a list, or the second is a list, or both are lists with the exact same shape</p>
<h2 id="precedence"><a class="header" href="#precedence">Precedence</a></h2>
<p>Every operator has a precedence level, and an associativity. The precedence level determines the order in which operators in a compound expression are evaluated. Associativity determines the order of evaluation when multiple operators of the same precedence level are present in a compound expression. Associativity can be:</p>
<ul>
<li>left-to-right</li>
<li>right-to-left</li>
<li>prefix</li>
<li>postfix</li>
<li>none (typically these expressions generate a single node in the AST)</li>
<li>fail (i.e. the expression is invalid if multiple operators of the same precedence level are present)</li>
</ul>
<p>(TODO: some way of populating this table with the current full precedence table in the code)</p>
<p>(TODO: this table is missing several operators)</p>
<div class="table-wrapper"><table><thead><tr><th>Precedence</th><th>Symbol</th><th>Name</th><th>Associativity</th></tr></thead><tbody>
<tr><td>14</td><td><code>@</code></td><td>reference</td><td>prefix</td></tr>
<tr><td>13</td><td><code>.</code><br>juxtapose<br>juxtapose</td><td>access<br>jux-call<br>jux-index</td><td>left</td></tr>
<tr><td>12</td><td><code>^</code></td><td>power</td><td>right</td></tr>
<tr><td>11</td><td>juxtapose</td><td>jux-multiply</td><td>left</td></tr>
<tr><td>10</td><td><code>*</code><br><code>/</code><br><code>%</code></td><td>multiply<br>divide<br>modulus</td><td>left</td></tr>
<tr><td>9</td><td><code>+</code><br><code>-</code></td><td>add<br>subtract</td><td>left</td></tr>
<tr><td>8</td><td><code>&lt;&lt;</code><br><code>&gt;&gt;</code><br><code>&lt;&lt;&lt;</code><br><code>&gt;&gt;&gt;</code><br><code>&lt;&lt;!</code><br><code>!&gt;&gt;</code></td><td>left shift<br>right shift<br>rotate right no carry<br>rotate left no carry<br>rotate left with carry<br>rotate right with carry</td><td>left</td></tr>
<tr><td>#</td><td><code>in</code></td><td>in</td><td>fail</td></tr>
<tr><td>7</td><td><code>=?</code><br><code>&gt;?</code><br><code>&lt;?</code><br><code>&gt;=?</code><br><code>&lt;=?</code></td><td>equal<br>greater than<br>less than<br>greater than or equal<br>less than or equal</td><td>left</td></tr>
<tr><td>6</td><td><code>and</code><br><code>nand</code><br><code>&amp;</code></td><td>and<br>nand<br>and</td><td>left</td></tr>
<tr><td>5</td><td><code>xor</code><br><code>xnor</code></td><td>xor<br>xnor</td><td>left</td></tr>
<tr><td>4</td><td><code>or</code><br><code>nor</code><br>|</td><td>or<br>nor<br>or</td><td>left</td></tr>
<tr><td>3</td><td><code>comma</code></td><td>comma</td><td>none</td></tr>
<tr><td>#</td><td>juxtapose</td><td>jux-range</td><td>none</td></tr>
<tr><td>2</td><td><code>=&gt;</code></td><td>function arrow</td><td>right</td></tr>
<tr><td>1</td><td><code>=</code></td><td>bind</td><td>fail</td></tr>
<tr><td>0</td><td><code>else</code></td><td>flow alternate</td><td>none</td></tr>
<tr><td>-1</td><td>space</td><td>space</td><td>left</td></tr>
<tr><td>TBD</td><td><code>as</code></td><td>as</td><td>TBD</td></tr>
<tr><td>TBD</td><td><code>transmute</code></td><td>transmute</td><td>TBD</td></tr>
<tr><td>TBD</td><td>|&gt;</td><td>pipe</td><td>TBD</td></tr>
<tr><td>TBD</td><td>&lt;|</td><td>reverse pipe</td><td>TBD</td></tr>
<tr><td>TBD</td><td><code>-&gt;</code></td><td>right-pointer</td><td>TBD</td></tr>
<tr><td>TBD</td><td><code>&lt;-&gt;</code></td><td>bi-pointer</td><td>TBD</td></tr>
<tr><td>TBD</td><td><code>&lt;-</code></td><td>left-pointer</td><td>TBD</td></tr>
<tr><td>TBD</td><td><code>:</code></td><td>type annotation</td><td>TBD</td></tr>
</tbody></table>
</div>
<p>multi-operators e.g. <code>100^/2</code> for sqrt, or <code>5+-1</code>, etc. have a precedence at the level of the first operator in the chain (i.e. all following operators have no effect on the precedence).
Also any instances of elementwise operators (e.g. <code>.+</code> <code>.=</code> <code>.xor</code> etc.) are at the level of precedence as the operator they're attached to. Assignment operators on the other hand are all at the same level, regardless of the type of operator they're attached to (e.g. <code>+=</code> <code>&lt;?=</code> <code>&lt;&lt;=</code> <code>nand=</code> etc.)</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="numbers-and-bases"><a class="header" href="#numbers-and-bases">Numbers and Bases</a></h1>
<p>literal numbers in various bases can be specified using prefixes before the number</p>
<div class="table-wrapper"><table><thead><tr><th>Radix</th><th>Name</th><th>Prefix</th><th>Digits</th></tr></thead><tbody>
<tr><td>2</td><td>Binary</td><td><code>0b</code></td><td><code>[01]</code></td></tr>
<tr><td>3</td><td>Ternary</td><td><code>0t</code></td><td><code>[012]</code></td></tr>
<tr><td>4</td><td>Quaternary</td><td><code>0q</code></td><td><code>[0123]</code></td></tr>
<tr><td>6</td><td>Seximal</td><td><code>0s</code></td><td><code>[0-5]</code></td></tr>
<tr><td>8</td><td>Octal</td><td><code>0o</code></td><td><code>[0-7]</code></td></tr>
<tr><td>10</td><td>Decimal*</td><td><code>0d</code></td><td><code>[0-9]</code></td></tr>
<tr><td>12</td><td>Dozenal</td><td><code>0z</code></td><td><code>[0-9xXeE]</code></td></tr>
<tr><td>16</td><td>Hexidecimal</td><td><code>0x</code></td><td><code>[0-9A-Fa-f]</code></td></tr>
<tr><td>32</td><td>Duotrigesimal</td><td><code>0u</code></td><td><code>[0-9A-Va-v]</code></td></tr>
<tr><td>36</td><td>Hexatrigesimal</td><td><code>0r</code></td><td><code>[0-9A-Za-z]</code></td></tr>
<tr><td>64</td><td>Tetrasexagesimal</td><td><code>0y</code></td><td><code>[0-9A-Za-z!$]</code></td></tr>
</tbody></table>
</div>
<p>*Decimal is the default base, so the prefix is generally not necessary, unless the default base is changed.</p>
<p>Some examples:</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=0b10101010%20%20%25%20170%0A0t121010%20%20%20%20%25%20435%0A0q123%20%20%20%20%20%20%20%25%2027%0A0s1432%20%20%20%20%20%20%25%20380%0A0o1234567%20%20%20%25%20342391%0A0xdeadbeef%20%20%25%203735928559%0A0u1v2u3t%20%20%20%20%25%2066156669%0A0rz1b2c3%20%20%20%20%25%202118512019%0A0yl1z2%243%21%20%20%20%25%203231913341182&id=DewyIframe71"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe71"
    frameBorder="0"
></iframe>
<p>See also: <a href="https://en.wikipedia.org/wiki/List_of_numeral_systems">Base names</a>, and <a href="https://en.wikipedia.org/wiki/Senary">Seximal</a></p>
<h2 id="examples"><a class="header" href="#examples">Examples</a></h2>
<div style="break-before: page; page-break-before: always;"></div><h1 id="basic-math"><a class="header" href="#basic-math">Basic Math</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="linear-algebra"><a class="header" href="#linear-algebra">Linear Algebra</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="functional-programming"><a class="header" href="#functional-programming">Functional Programming</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="meta-programming"><a class="header" href="#meta-programming">Meta Programming</a></h1>
<blockquote>
<p>Note: This will probably not be relevant until the current handwritten parser is replaced with a parser generator (probably GLL)</p>
</blockquote>
<p>Eventually, the goal is for the language to be completely described via some sort of syntax description, such as a context-free grammar. There was work on this in the past, but it was paused in favor of building a usable version of the language first. When there is a suitable parser-generator implementation of the language, one of the planned features is to include the syntax description language within Dewy itself for metaprogramming purposes. Users could describe new syntax features via the metalanguage, and then be able to use them in their programs.</p>
<p>Here's an example of the previous work on the metalanguage:</p>
<pre><code>% This is a description of the metalanguage written in the metalanguage itself

#eps = 'ϵ' | '\\e' | &quot;''&quot; | '&quot;&quot;' | &quot;{}&quot;;                    % ϵ, \e, '', &quot;&quot;, or {} indicates empty element, i.e. nullable
#wschar = [\n\x20];                                         % ascii whitespace characters (restrict to newlines and spaces).
#line_comment = '/\/' '\n'~* / '\n'~;                       % single line comment
#block_string = ξ* - ξ* '}/';                               % inside of a block comment. Cannot end with block comment delimiter
#block_comment = '/\{' (#block_comment | #block_string)* '}/';       % block comment, with allowed nested block comments
#ws = (#wschar | #line_comment | #block_comment)*;          % optional whitespace sequence
#anyset = '\\' [uUxX] | [VUξ];                              % V, U, ξ, \U, \u, \X, or \x used to indicate any unicode character
#hex = '\\' [uUxX] [0-9a-fA-F]+ / [0-9a-fA-F];              % hex number literal. Basically skipping the number part makes it #any
#number = [0-9]+ / [0-9];                                   % decimal number literal. Used to indicate # of repetitions
#charsetchar = ξ - [\-\[\]] - #wschar;                      % characters allowed in a set are any unicode excluding '-', '[', or ']', and whitespace
#item = #charsetchar | #escape | #hex;                      % items that make up character sets, i.e. raw chars, escape chars, or hex chars
#charset = '[' (#ws #item (#ws '-' #ws #item)? #ws)+ ']';   % set of chars specified literally. Whitespace is ignored, and must be escaped.

%paired grouping operators
#group = '(' #ws #expr #ws ')';                             % group together/force precedence
#char = '&quot;' (ξ - '&quot;' | #escape | #hex) '&quot;';                 % &quot;&quot; single character
#char = &quot;'&quot; (ξ - &quot;'&quot; | #escape | #hex) &quot;'&quot;;                 % '' single character
#caseless_char = &quot;{&quot; (ξ - [{}] | #escape | #hex) &quot;}&quot;;       % {} single character where case is ignored
#string = '&quot;' (ξ - '&quot;' | #escape | #hex)2+ '&quot;';             % &quot;&quot; string of 2+ characters
#string = &quot;'&quot; (ξ - &quot;'&quot; | #escape | #hex)2+ &quot;'&quot;;             % '' string of 2+ characters
#caseless_string = &quot;{&quot; (ξ - [{}] | #escape | #hex)2+ &quot;}&quot;;   % {} string of 2+ characters where case is ignored for each character
#escape = '\\' ξ;                                           % an escape character. Recognized escaped characters are \n \r \t \v \b \f \a.
                                                            % all others just put the second character literally. Common literals include \\ \' \&quot; \[ \] \-

%post operators
#capture = #expr #ws '.';                                   % group to capture
#star = #expr #ws (#number)? #ws '*';                       % zero or (number or more)
#plus = #expr #ws (#number)? #ws '+';                       % (number or one) or more
#option = #expr #ws '?';                                    % optional
#count = #expr #ws #number;                                 % exactly number of
#compliment = #set #ws '~';                                 % compliment of. equivalent to #any - #set

%implicit operators
#cat = #expr (#ws #expr)+;                                  % concatenate left and right

%binary expr operators
#or = (#expr #ws '|' #ws #expr) - #union;                   % left or right expression
#reject = (#expr #ws '-' #ws #expr) - #diff;                % reduce left expression only if it is not also the right expression
#nofollow = #expr #ws '/' #ws #expr;                        % reduce left expression only if not followed by right expression
#greaterthan = #expr #ws '&gt;' #ws #expr;                     % left expression has higher precedence than right expression

%binary set operators
#diff = #set #ws '-' #ws #set;                              % everything in left that is not in right
#intersect = #set #ws '&amp;' #ws #set;                         % intersect of left and right
#union = #set #ws '|' #ws #set;                             % union of left and right

%syntax constructs
#set = #anyset | #char | #caseless_char | #hex | #charset | #compliment | #diff | #intersect | #union;
#expr = #eps | #set | #group | #capture | #string | #caseless_string | #star | #plus | #option | #count | #cat | #or | #greaterthan | #lessthan | #reject | #nofollow | #hashtag;
#hashtag = '#' [a-zA-Z] [a-zA-Z0-9_]* / [a-zA-Z0-9_];
#rule = #hashtag #ws '=' #ws #expr #ws ';';
#grammar = (#ws #rule)* #ws;
#start = #grammar;
</code></pre>
<p>If/when a metalanguage is added to Dewy, it will likely look much different than this. Current drawbacks of this syntax are:</p>
<ul>
<li>difficulties describing expression precedence and associativity</li>
<li>difficulties handling ambiguity that may arise from the grammar</li>
<li>verbosity of handling whitespace/comments</li>
<li>some incompatibility of the metalanguage with Dewy syntax. Ideally metalanguage expressions would be valid Dewy expressions</li>
<li>currently no process for the semantic results of parsed rules</li>
</ul>
<p>Something more ideal may make use of string prefix functions</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=%28meta%29r%27%27%27%0A%20%20%20%20%23rule%20%3D%20%23hashtag%20%27%3D%27%20%23expr%20%27%3B%27%20%3D%3E%20%7B%20/%7Bsemantics%20for%20handling%20the%20rule%7D/%20%7D%3B%0A%27%27%27&id=DewyIframe72"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe72"
    frameBorder="0"
></iframe>
<p>Or perhaps a syntax constructed explicitly from valid Dewy expressions</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=%23rule%20%3D%20%23hashtag%2C%20%27%3D%27%2C%20%23expr%2C%20%27%3B%27%20%3D%3E%20%7B%20/%7Bsemantics%20for%20handling%20the%20rule%7D/%20%7D&id=DewyIframe73"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe73"
    frameBorder="0"
></iframe>
<div style="break-before: page; page-break-before: always;"></div><h1 id="flow-control"><a class="header" href="#flow-control">Flow Control</a></h1>
<p>In Dewy, the two main methods of conditionally executing code are <code>if</code> and <code>loop</code> expressions.</p>
<h2 id="if-expressions"><a class="header" href="#if-expressions">If Expressions</a></h2>
<p>If expressions allow you to conditionally evaluate code based on whether or not some condition is met.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_var%20%3D%2010%0Aif%20my_var%20%3D%3F%2010%0A%20%20%20%20printl%22my_var%20is%20ten%22&id=DewyIframe74"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe74"
    frameBorder="0"
></iframe>
<p>The syntax for an <code>if</code> expression is:</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=if%20%3Ccondition%3E%20%3Cexpression%3E&id=DewyIframe75"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe75"
    frameBorder="0"
></iframe>
<p>where <code>&lt;condition&gt;</code> must result in a boolean value, and <code>&lt;expression&gt;</code> can be anything. Commonly, <code>&lt;expression&gt;</code> will be a block containing multiple expressions.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=if%20a%20%3E%3F%20b%0A%7B%0A%20%20%20%20%25do%20something%0A%20%20%20%20%25do%20another%20thing%0A%7D&id=DewyIframe76"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe76"
    frameBorder="0"
></iframe>
<h2 id="loop-expressions"><a class="header" href="#loop-expressions">Loop Expressions</a></h2>
<p>Loop expressions allow you to repeat the execution of some code while some condition is met.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=i%20%3D%200%0Aloop%20i%20%3C%3F%2010%0A%7B%0A%20%20%20%20printl%22i%20is%20%7Bi%7D%22%0A%20%20%20%20i%20%2B%3D%201%0A%7D&id=DewyIframe77"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe77"
    frameBorder="0"
></iframe>
<p>The syntax for a <code>loop</code> expression is:</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=loop%20%3Ccondition%3E%20%3Cexpression%3E&id=DewyIframe78"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe78"
    frameBorder="0"
></iframe>
<p>where <code>&lt;condition&gt;</code> must be an expression that evaluates to a boolean value, and <code>&lt;expression&gt;</code> can be anything.</p>
<p>Loops will be explored in more detail in <a href="ch03/loops.html">One Loop To Rule Them All</a>.</p>
<h2 id="flow-chains"><a class="header" href="#flow-chains">Flow Chains</a></h2>
<p>Multiple flow expressions can be chained together via the <code>else</code> operator, along with an optional final default case that need not be a flow expression. In normal languages, this would be <code>if-else-if</code> kinds of sequences, which are certainly possible in Dewy:</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_var%20%3D%20%27apple%27%0Aif%20my_var%20%3D%3F%20%27banana%27%0A%20%20%20%20printl%27A%20fruit%20enjoyed%20by%20monkeys%27%0Aelse%0A%20%20%20%20printl%27monkeys%20don%5C%27t%20like%20%7Bmy_var%7D%2C%20only%20bananas%21%27&id=DewyIframe79"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe79"
    frameBorder="0"
></iframe>
<p>or even</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_var%20%3D%2042%0Aif%20my_var%20%3C%3D%3F%2010%0A%20%20%20%20printl%27a%20small%20number%27%0Aelse%20if%20my_var%20%3C%3D%3F%2050%0A%20%20%20%20printl%27a%20medium%20number%27%0Aelse%0A%20%20%20%20printl%27a%20number%20larger%20than%2050%27&id=DewyIframe80"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe80"
    frameBorder="0"
></iframe>
<p>But Dewy also allows <code>loop</code> expressions to be combined in this way as well:</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=if%20a%20%3E%3F%20b%0A%7B%0A%20%20%20%20printl%27a%20is%20greater%20than%20b%27%0A%7D%0Aelse%20loop%20a%20%3C%3F%20b%0A%7B%0A%20%20%20%20printl%27a%20is%20less%20than%20b.%20Increasing%20a%20until%20it%20matches%20b%27%0A%20%20%20%20a%20%2B%3D%201%0A%7D%0Aelse%0A%7B%0A%20%20%20%20printl%27a%20is%20equal%20to%20b%27%0A%7D&id=DewyIframe81"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe81"
    frameBorder="0"
></iframe>
<p>In the above example, if <code>a</code> is greater than <code>b</code>, the first block would be executed, and the rest of the blocks are skipped. If <code>a</code> is less than <code>b</code>, the loop in the second block executes, incrementing <code>a</code> until it is equal to <code>b</code>, at which point the rest of the chain is skipped. Only if <code>a</code> is neither greater than nor less than <code>b</code> (i.e. <code>a</code> equals <code>b</code>) will the final block be executed exclusively.</p>
<p>(TODO: add an example for how all conditions share the same scope, so variables defined in one condition will be available in later bodies if they execute)</p>
<p>(TODO: probably add a <code>finally</code> operator which can be used to always execute code at the end)</p>
<h2 id="capturing-values"><a class="header" href="#capturing-values">Capturing Values</a></h2>
<p>Unlike if statements from other languages, <code>if</code>s and <code>loop</code>s in Dewy are themselves expressions, allowing any expressed values to be captured. <code>if</code> expressions basically act like Dewy's version of the ternary operator</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_fruit%20%3D%20%27kiwi%27%0Atropical_fruits%20%3D%20%5B%27banana%27%20%27pineapple%27%20%27kiwi%27%20%27papaya%27%5D%0Amy_var%20%3D%20if%20my_fruit%20in%3F%20tropical_fruit%0A%20%20%20%20%27a%20tropical%20fruit%27%0Aelse%0A%20%20%20%20%27some%20other%20type%20of%20fruit%27&id=DewyIframe82"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe82"
    frameBorder="0"
></iframe>
<p><code>my_var</code> would have a value of <code>'a tropical fruit'</code> at the end of the above example.</p>
<p>Values from loops can be captured to construct sequences, which is explored more in <a href="ch03/loops.html#loop-generators">One Loop To Rule Them All</a>.</p>
<h2 id="match-expressions"><a class="header" href="#match-expressions">Match Expressions</a></h2>
<p>(TODO) switch statement equivalent</p>
<h2 id="break-continue-return"><a class="header" href="#break-continue-return">Break, Continue, Return, <expr-return></a></h2>
<p>(TODO) branch inside body of conditional</p>
<h2 id="advanced-flow-control"><a class="header" href="#advanced-flow-control">Advanced Flow Control</a></h2>
<p>(TODO) combining conditionals
(TODO) list and dictionary generators</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="one-loop-to-rule-them-all"><a class="header" href="#one-loop-to-rule-them-all">One Loop to Rule them All</a></h1>
<p>Other languages make use of sometimes multiple keywords such as <code>for</code>, <code>while</code>, <code>do-while</code>, <code>for each</code>, etc., to handle looping over a piece of code. Dewy instead simply uses the <code>loop</code> keyword to handle all forms of looping.</p>
<p>Syntactically, loops are quite simple. The syntax for a loop is:</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=loop%20%3Ccondition%3E%20%3Cexpression%3E&id=DewyIframe83"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe83"
    frameBorder="0"
></iframe>
<p>Where <code>&lt;condition&gt;</code> must result in a boolean determines if the loop continues, and <code>&lt;expression&gt;</code> which can be anything is executed each time the loop repeats.</p>
<p>The various types of loops seen in other languages are formed simply by changing the <code>&lt;condition&gt;</code> part of the loop.</p>
<h2 id="infinite-loops"><a class="header" href="#infinite-loops">Infinite Loops</a></h2>
<p>An infinite loop is one that never ends. They are constructed by hardcoding the condition to <code>true</code>, which ensures that the loop will always repeat.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=loop%20true%0A%7B%0A%20%20%20%20%25do%20something%20repeatedly%20forever%0A%7D&id=DewyIframe84"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe84"
    frameBorder="0"
></iframe>
<p>The only way to leave an infinite loop is via the <code>break</code>, and <code>return</code> keywords.</p>
<h2 id="while-loops"><a class="header" href="#while-loops">While Loops</a></h2>
<p>A while loop is a loop that executes &quot;while&quot; some condition is true. A simple boolean expression can be used as the condition. When the condition is false, the loop ends.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=loop%20i%20%3E%3F%200%0A%7B%0A%20%20%20%20%25while%20i%20is%20greater%20than%200%2C%20do%20something%0A%7D&id=DewyIframe85"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe85"
    frameBorder="0"
></iframe>
<h2 id="for-loops"><a class="header" href="#for-loops">For Loops</a></h2>
<p>Many languages feature for loops, which iterate over some iterable object. The simplest case of this would be iterating over a range of numbers. In Dewy, the <code>in</code> operator manages iteration for loops. <code>in</code> has two aspects:</p>
<ol>
<li>the variable on the left is assigned with the next value of the iterable on the right (or <code>void</code> if there are no more values)</li>
<li>the expression returns <code>true</code> or <code>false</code> depending on if there was a value to assign to the variable this iteration.</li>
</ol>
<p>This means that <code>in</code> expressions can be used to trivially construct a for-loop.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=loop%20i%20in%20%5B1..5%5D%0A%7B%0A%20%20%20%20print%28%27%7Bi%7D%2C%20%27%29%0A%7D&id=DewyIframe86"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe86"
    frameBorder="0"
></iframe>
<p>Which prints out <code>1, 2, 3, 4, 5, </code> to the console. Each iteration, <code>in</code> causes <code>i</code> to be assigned the next value in the sequence, while returning true for the loop condition. When the sequence is exhausted, <code>in</code> returns false, and the loop ends.</p>
<p>For loops can also iterate over the items in any type of container. Iterating over a list looks like this</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=loop%20fruit%20in%20%5B%27apple%27%20%27banana%27%20%27peach%27%20%27pear%27%5D%0A%7B%0A%20%20%20%20print%28%27I%20like%20to%20eat%20%7Bfruit%7D%21%27%29%0A%7D&id=DewyIframe87"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe87"
    frameBorder="0"
></iframe>
<p>Which prints the following to the console</p>
<pre><code>I like to eat apple
I like to eat banana
I like to eat peach
I like to eat pear
</code></pre>
<p>Items in a dictionary can be iterated over like so</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=ratings%20%3D%20%5B%0A%20%20%20%20%27star%20wars%27%20-%3E%2073%0A%20%20%20%20%27star%20trek%27%20-%3E%2089%0A%20%20%20%20%27star%20gate%27%20-%3E%2084%0A%20%20%20%20%27battlestar%20galactica%27%20-%3E%2087%0A%20%20%20%20%27legend%20of%20the%20galactic%20heroes%27%20-%3E%20100%0A%5D%0A%0Aloop%20%5Bshow%20rating%5D%20in%20ratings%0A%7B%0A%20%20%20%20printl%28%27I%20give%20%7Bshow%7D%20a%20%7Brating%7D%20out%20100%27%29%0A%7D&id=DewyIframe88"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe88"
    frameBorder="0"
></iframe>
<p>This takes advantage of the fact that iterating over a dictionary returns each pair, which can then be unpacked into separate variables <code>show</code> and <code>rating</code>. This prints out the following to the console</p>
<pre><code>I give star wars a 73 out of 100
I give star trek a 89 out of 100
I give star gate a 84 out of 100
I give battlestar galactica a 87 out of 100
I give legend of the galactic heroes a 100 out of 100
</code></pre>
<h3 id="multiple-conditions"><a class="header" href="#multiple-conditions">Multiple Conditions</a></h3>
<p>A neat side effect of <code>in</code> statements returning a boolean is that it provides a free method for looping over multiple sequences simultaneously. Simply combine two <code>in</code> statements with a logical operator. The loop will continue until one sequence is exhausted, both, or something else, depending on which logical operator is used. The behavior <code>zip</code> from other languages can be achieved by combining sequences with <code>and</code></p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=names%20%3D%20%5B%27Alice%27%20%27Bob%27%20%27Charlie%27%5D%0Acolors%20%3D%20%5B%27Red%27%20%27Blue%27%20%27Green%27%20%27Yellow%27%5D%0A%0Aloop%20name%20in%20names%20and%20color%20in%20colors%0A%20%20%20%20printl%27%7Bname%7D%20chose%20%7Bcolor%7D%27&id=DewyIframe89"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe89"
    frameBorder="0"
></iframe>
<p>In this case, the loop runs until either sequence is exhausted (as <code>and</code> requires both conditions to be true, so as soon as one is false, the loop ends). This prints out the following to the console</p>
<pre><code>Alice chose Red
Bob chose Blue
Charlie chose Green
</code></pre>
<p>Other languages commonly have an <code>enumerate</code> function which will count how many iterations have occurred on top of looping over some sequence. This can be achieved by combining an infinite range with any sequence using <code>and</code>:</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=loop%20i%20in%20%5B0..%5D%20and%20fruit%20in%20%5B%27apple%27%20%27banana%27%20%27peach%27%20%27pear%27%5D%0A%20%20%20%20printl%27%7Bi%7D%29%20%7Bfruit%7D%27&id=DewyIframe90"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe90"
    frameBorder="0"
></iframe>
<p><code>i</code> will never run out of values, so the loop continues so long as <code>fruit</code> has values remaining. This prints out the following to the console</p>
<pre><code>0) apple
1) banana
2) peach
3) pear
</code></pre>
<p>Using the <code>or</code> operator to combine sequences will loop until so long as either of the sequences have values remaining.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=A%20%3D%20%5B1%202%203%5D%0AB%20%3D%20%5B4%205%206%207%208%5D%0Aloop%20a%20in%20A%20or%20b%20in%20B%0A%20%20%20%20printl%5Ba%20b%5D&id=DewyIframe91"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe91"
    frameBorder="0"
></iframe>
<p>Which prints</p>
<pre><code>[1 4]
[2 5]
[3 6]
[undefined 7]
[undefined 8]
</code></pre>
<p>Since this is just combining boolean expressions, any combination of expressions that results in a boolean may be used.</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=limit%20%3D%20time.now%20%2B%205%28minutes%29%0Aloop%20batch%20in%20batches%20and%20time.now%20%3C%3F%20limit%0A%20%20%20%20process%28batch%29&id=DewyIframe92"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe92"
    frameBorder="0"
></iframe>
<p>As a similar approach, perhaps there might be iterators in this style where they don't have a fixed value, but instead track over some changing resource</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=loop%20batch%20in%20batches%20and%20t%20in%20timer%285%28minutes%29%29%0A%7B%0A%20%20%20%20process%28batch%29%0A%20%20%20%20printl%27timeout%20in%20%7Bt%7D%27%0A%7D&id=DewyIframe93"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe93"
    frameBorder="0"
></iframe>
<h2 id="do-loop-do"><a class="header" href="#do-loop-do">Do Loop Do</a></h2>
<p>The do-while version of the loop can be constructed by putting the <code>do</code> keyword before the body, and putting the <code>loop</code> keyword and its condition after the body. This means loop body is executed at least once before the condition is checked, at which point the loop could exit or continue.</p>
<p>Basic do-while loop:</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=i%20%3D%200%0Ado%0A%7B%0A%20%20%20%20i%20%2B%3D%201%0A%20%20%20%20printl%27this%20is%20a%20do-while%20loop%27%0A%7D%0Aloop%20i%20%3C%3F%2020&id=DewyIframe94"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe94"
    frameBorder="0"
></iframe>
<p>do-loop over an iterator. On the first iteration, <code>i</code> will be undefined, while it will be available on subsequent iterations</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=do%20printl%27this%20is%20a%20do-for%20loop.%20i%3D%7Bi%7D%27%0Aloop%20i%20in%20%5B0..5%5D&id=DewyIframe95"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe95"
    frameBorder="0"
></iframe>
<p>Which prints</p>
<pre><code>this is a do-for loop. i=undefined
this is a do-for loop. i=0
this is a do-for loop. i=1
this is a do-for loop. i=2
this is a do-for loop. i=3
this is a do-for loop. i=4
this is a do-for loop. i=5
</code></pre>
<p>Technically you can construct an infinite do-while loop, but it's basically identical to a regular infinite loop</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=do%20printl%27this%20is%20a%20do-infinite%20loop%27%0Aloop%20true&id=DewyIframe96"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe96"
    frameBorder="0"
></iframe>
<p>Lastly you can sandwich <code>loop</code> between two blocks using two <code>do</code> keywords (one before the first block, and one after the loop condition). This will give you a block executed before the condition and a block executed after the condition</p>
<blockquote>
<p>Note: the syntax for do-loop-do is still being finalized, and may change from this example</p>
</blockquote>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=i%20%3D%200%0Ado%0A%7B%0A%20%20%20%20printl%27before%20condition%20is%20checked%27%0A%7D%0Aloop%20i%20%3C%3F%2020%20do%0A%7B%0A%20%20%20%20printl%27after%20condition%20is%20checked%27%0A%20%20%20%20i%20%2B%3D%201%0A%7D&id=DewyIframe97"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe97"
    frameBorder="0"
></iframe>
<p>In this loop, the first block is guaranteed to execute at least once. Then we check the condition, and then if true, we execute the second block, then repeat the loop, execute the first block, and then check the condition again, repeating until the condition is false, or we have iterated over all elements.</p>
<h2 id="break-continue-return-inside-loops"><a class="header" href="#break-continue-return-inside-loops">Break, Continue, Return inside Loops</a></h2>
<p>TODO-&gt;write this. follows basic principles of other languages. extra is that you can use <code>#hashtags</code> to break/continue from inside nested loops</p>
<h2 id="loop-generators"><a class="header" href="#loop-generators">Loop Generators</a></h2>
<p>Let's look at this example</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=loop%20i%20in%20%5B1..10%5D%20%7Bi%7D&id=DewyIframe98"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe98"
    frameBorder="0"
></iframe>
<p>Every iteration of the loop, the current value of <code>i</code> is &quot;expressed&quot;, that is to say, the value could be stored in a variable or a container.</p>
<p>Lets capture the expressed value in a container by wrapping the loop in <code>[]</code> brackets</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=%5Bloop%20i%20in%20%5B1..10%5D%20%7Bi%7D%5D&id=DewyIframe99"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe99"
    frameBorder="0"
></iframe>
<p>This &quot;generates&quot; the array <code>[1 2 3 4 5 6 7 8 9 10]</code>, which we can then store into a variable</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=my_array%20%3D%20%5Bloop%20i%20in%20%5B1..10%5D%20%7Bi%7D%5D%0A%0A%25optional%20to%20omit%20the%20braces%20since%20only%20a%20single%20expression%20is%20in%20the%20body%0Amy_array%20%3D%20%5Bloop%20i%20in%20%5B1..10%5D%20i%5D&id=DewyIframe100"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe100"
    frameBorder="0"
></iframe>
<p>And thus we have created the simplest list generator.</p>
<h3 id="multiple-expressions-per-iteration"><a class="header" href="#multiple-expressions-per-iteration">Multiple Expressions per Iteration</a></h3>
<p>Generators can do a lot of interesting things. For example we can express multiple values on a single loop iteration</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=%25note%20the%20braces%20are%20not%20optional%20in%20this%20case%0Amy_array%20%3D%20%5Bloop%20i%20in%20%5B1..5%5D%20%7B%20i%20i%5E2%20%7D%5D&id=DewyIframe101"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe101"
    frameBorder="0"
></iframe>
<p>producing the array <code>[1 1 2 4 3 9 4 16 5 25]</code>.</p>
<p>We can also construct a dictionary by expressing with a <code>-&gt;</code> between two values</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=squares%20%3D%20%5Bloop%20i%20in%20%5B1..5%5D%20%7B%20i%20-%3E%20i%5E2%20%7D%5D&id=DewyIframe102"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe102"
    frameBorder="0"
></iframe>
<p>which produces the dictionary <code>[1-&gt;1 2-&gt;4 3-&gt;9 4-&gt;16 5-&gt;25]</code> which points from values to their squares.</p>
<h3 id="multidimensional-generators"><a class="header" href="#multidimensional-generators">Multidimensional Generators</a></h3>
<p>You can generate a multidimensional array using multiple nested loops. For example</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=indices%20%3D%0A%5B%0A%20%20%20%20loop%20i%20in%20%5B1..5%5D%0A%20%20%20%20%5B%0A%20%20%20%20%20%20%20%20loop%20j%20in%20%5B1..5%5D%0A%20%20%20%20%20%20%20%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20i%0A%20%20%20%20%20%20%20%20%20%20%20%20j%0A%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%5D%0A%5D&id=DewyIframe103"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe103"
    frameBorder="0"
></iframe>
<p>which produces the following 3D array representing the indices of a 5x5 matrix as tuples</p>
<pre><code>indices = [
    [[1 1] [1 2] [1 3] [1 4] [1 5]]
    [[2 1] [2 2] [2 3] [2 4] [2 5]]
    [[3 1] [4 2] [3 3] [3 4] [3 5]]
    [[4 1] [4 2] [4 3] [4 4] [4 5]]
    [[5 1] [5 2] [5 3] [5 4] [5 5]]
]
</code></pre>
<p>And so many more things are possible. Loop generators are about as flexible a feature as one could imagine. It's really up to you how you want to apply them</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="imports"><a class="header" href="#imports">Imports</a></h1>
<p>TODO</p>
<blockquote>
<p>Syntax likely to change</p>
</blockquote>
<p>Examples of imports</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=%0A%25%20import%20an%20item%20from%20a%20local%20file%0Afrom%20p%22stuff.dewy%22%20import%20myfun%0A%0A%25%20import%20an%20item%20from%20a%20local%20file%2C%20and%20rename%20it%0Afrom%20p%22../some/other/path/to/stuff.dewy%22%20import%20myfun%20as%20myfun2%0A%0A%25%20import%20a%20whole%20file%20as%20an%20object%20with%20a%20given%20name.%0A%25%20tbd%20if%20you%20can%20omit%20the%20name%20since%20not%20an%20installed%20library%0Aimport%20p%22../../mylib3.dewy%22%20as%20mylib3%0A%0A%25%20import%20all%20the%20contents%20of%20a%20file%20into%20the%20current%20scope%0Afrom%20p%22mylib4.dewy%22%20import%20...%0A%0A%25%20import%20several%20functions%20from%20a%20local%20file%2C%20unpacking%20some%20from%20nested%20objects%0Afrom%20p%22stuff2.dewy%22%20import%20myfun2%2C%20myfun3%20as%20f1%2C%20mymodule%20as%20%5Bf2%20f3%20mod3%20as%20%5Bf4%20f5%5D%5D%0A%0A%25importing%20from%20a%20whole%20folder%0Afrom%20p%22myproject%22%20import%20mod1%2C%20mod2%2C%20mod3%0A%0A%25TODO%3A%20what%20about%20glob%20patterns%20in%20the%20import%20path%3F%0Afrom%20p%22myproject/%2A.dewy%22%20import%20...%0A%0A%25%20import%20a%20whole%20installed%20library%0Aimport%20IO%0A%0A%25%20import%20items%20from%20an%20installed%20library%0Afrom%20Math%20import%20sin%2C%20cos%2C%20tan%0A%0A%25%20import%20and%20rename%20a%20whole%20installed%20library%0Aimport%20seaborn%20as%20sns%0A%0A%25%20import%20and%20rename%20items%20from%20an%20installed%20library%0Afrom%20sklearn%20import%20RandomForest%20as%20RF%2C%20LinearRegression%20as%20LR&id=DewyIframe104"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe104"
    frameBorder="0"
></iframe>
<div style="break-before: page; page-break-before: always;"></div><h1 id="standard-library"><a class="header" href="#standard-library">Standard Library</a></h1>
<p>Dewy is 100% batteries included, and provides a comprehensive standard library over most common programming facets.</p>
<blockquote>
<p><strong>Note:</strong> This is a work in progress. The standard library is not yet implemented. For now this is just a record of the planned standard library features.</p>
</blockquote>
<h2 id="standard-library-reference"><a class="header" href="#standard-library-reference">Standard Library Reference</a></h2>
<ul>
<li><a href="ch04/xx-data-structures.html">Data Structures</a></li>
<li><a href="ch04/xx-time.html">Time</a></li>
<li><a href="ch04/xx-plotting.html">Plotting</a></li>
<li><a href="ch04/xx-parsing.html">Parsing</a></li>
<li><a href="ch04/xx-parallelism.html">Parallelism</a></li>
<li>TODO: more</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="data-structures"><a class="header" href="#data-structures">Data Structures</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="time"><a class="header" href="#time">Time</a></h1>
<p>TODO:</p>
<ul>
<li>timezones</li>
<li>calendars
<ul>
<li>gregorian</li>
<li>julian</li>
<li>Human Era</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="plotting"><a class="header" href="#plotting">Plotting</a></h1>
<blockquote>
<p>Work in progress</p>
</blockquote>
<h2 id="types-of-plots-to-include-out-of-the-box"><a class="header" href="#types-of-plots-to-include-out-of-the-box">Types of plots to include out of the box:</a></h2>
<ul>
<li>ridgeline plot</li>
<li>sankey plots (should be buildable directly from graph network data structure/etc.)</li>
<li>TODO: more</li>
</ul>
<h2 id="animating-plots"><a class="header" href="#animating-plots">Animating plots</a></h2>
<p>TODO</p>
<h2 id="blocking-vs-non-blocking-plots"><a class="header" href="#blocking-vs-non-blocking-plots">Blocking vs non-blocking plots</a></h2>
<p>TODO</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="parsing"><a class="header" href="#parsing">Parsing</a></h1>
<p>TODO</p>
<ul>
<li>library methods for parsing given some grammar+ specification (probably base on GLL and/or formalize the existing dewy parsing process into a nice library)</li>
<li>able to generate tree-sitter compatible parsers implemented in C</li>
<li>probably also have easy hooks into language server protocol and common language features</li>
<li>should be easy to do regex like things too (i.e. since parsers are necessarily more powerful than regex, I'm more referring to ease of creating a simple parser should be as easy as making a regex)
<ul>
<li><code>id_matcher = parser'[a-zA-Z_][a-zA-Z0-9_]*'</code></li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="high-performance-parallelism"><a class="header" href="#high-performance-parallelism">High Performance Parallelism</a></h1>
<p>TODO: want strong support for high performance parallelism
(see discussion with gemini)</p>
<ul>
<li>CPU work stealing algorithm</li>
<li>user provides functions for: work split, minimum work, result recombining</li>
<li>GPU task support, user provides kernel</li>
<li>complect dependent task support via some sort of dependency graph</li>
<li>high performance distributed support as well. probably completely different set of primitives</li>
<li>note gemini recommended including simpler concurrency tools like mutexes+channels since some simple non-parallel but concurrent problems are not well suited for the more advanced tools like work-stealing dequeues</li>
</ul>
<h1 id="gemini-discussion-outline"><a class="header" href="#gemini-discussion-outline">Gemini Discussion Outline</a></h1>
<h3 id="design-document-a-tiered-architecture-for-high-performance-parallelism"><a class="header" href="#design-document-a-tiered-architecture-for-high-performance-parallelism"><strong>Design Document: A Tiered Architecture for High-Performance Parallelism</strong></a></h3>
<p><strong>1. Guiding Principle: Abstracting Complexity via Tiered Abstractions</strong></p>
<p>The core philosophy is to provide programmers with abstractions that match the structure of their problem, while hiding the complex, error-prone mechanics of the underlying hardware. The language will offer a tiered set of tools, from simple &quot;it just works&quot; parallelism for common cases to expert-level control for specialized needs. The default path will always be the safest and most abstract.</p>
<hr />
<p><strong>2. Tier 1: Foundational CPU Parallelism - The Work-Stealing Scheduler</strong></p>
<p>This is the engine that will power most CPU-bound parallel operations. Its implementation is internal to the language runtime and not directly exposed to the programmer.</p>
<ul>
<li><strong>Application:</strong> General-purpose CPU-bound tasks, fork-join parallelism, parallel loops.</li>
<li><strong>Implementation Strategy:</strong>
<ul>
<li><strong>Per-Core Deques:</strong> On startup, the runtime creates a pool of worker threads, pinning each to a physical CPU core. Each thread is assigned a double-ended queue (deque).</li>
<li><strong>LIFO/FIFO Discipline:</strong>
<ul>
<li>A worker thread pushes new sub-tasks (<code>fork</code>) and pops its own work (<code>join</code>) from the <strong>bottom</strong> of its deque (LIFO). This is a private, non-atomic, cache-friendly operation.</li>
<li>When a worker runs out of local work, it becomes a &quot;thief&quot; and attempts to pop a task from the <strong>top</strong> of another randomly chosen worker's deque (FIFO).</li>
</ul>
</li>
<li><strong>Lock-Free Stealing:</strong> The &quot;steal&quot; operation on the top of the deque must be implemented using a lock-free algorithm, relying on a hardware-level <strong>Compare-And-Swap (CAS)</strong> atomic instruction to safely manage the head pointer in the face of concurrent thieves.</li>
<li><strong>Global Injection Queue:</strong> A single, global, concurrent Multi-Producer/Multi-Consumer (MPMC) queue will exist for submitting initial work from outside the thread pool (e.g., from the main thread or an I/O thread). Workers will check this queue before attempting to steal.</li>
</ul>
</li>
</ul>
<hr />
<p><strong>3. Tier 2: High-Level Parallel Constructs (The Programmer's Interface)</strong></p>
<p>These are the primary tools programmers will use. They are built on top of the Tier 1 scheduler.</p>
<p><strong>3.1. Embarrassingly Parallel Operations</strong></p>
<ul>
<li><strong>Application:</strong> Image processing, scientific computing, data transformation, any problem that can be modeled as &quot;do the same thing to every element in a collection.&quot;</li>
<li><strong>Feature:</strong> <strong>Parallel Iterators</strong></li>
<li><strong>Interface (Pseudocode):</strong>
<pre><code>// A standard collection type
interface Collection&lt;T&gt; {
  // Returns a standard sequential iterator
  iter(): Iterator&lt;T&gt;
  // Returns a parallel iterator, the gateway to parallelism
  par_iter(): ParallelIterator&lt;T&gt;
}

interface ParallelIterator&lt;T&gt; {
  // Executes a function for each element in parallel.
  // Blocks until all work is complete.
  for_each(func: (T) -&gt; void): void

  // Creates a new parallel collection by applying a function to each element.
  map&lt;U&gt;(func: (T) -&gt; U): ParallelCollection&lt;U&gt;

  // Reduces the collection to a single value in parallel.
  reduce(identity: T, op: (T, T) -&gt; T): T
}
</code></pre>
</li>
<li><strong>Implementation Strategy:</strong> A call to <code>par_iter().for_each(...)</code> is not a simple loop. The implementation recursively splits the collection's range in half. When a range is large enough, it forks the processing of one half as a new task onto the current worker's deque and recursively processes the other half itself. This naturally feeds the work-stealing scheduler.</li>
</ul>
<p><strong>3.2. Complex Dependency Graphs</strong></p>
<ul>
<li><strong>Application:</strong> Compilers, build systems, game engines, any workflow with irregular, dynamic dependencies.</li>
<li><strong>Feature:</strong> <strong>Futures and Asynchronous Tasks</strong></li>
<li><strong>Interface (Pseudocode):</strong>
<pre><code>// A Future is a handle to a value that may not be ready yet.
interface Future&lt;T&gt; {
  // Blocks the current *logical task* (not thread) until the value is ready.
  // A worker thread that awaits will drop this task and steal another.
  await(): T

  // Checks if the value is ready without blocking.
  is_ready(): bool
}

// The core scheduler interface for dependent tasks.
interface Scheduler {
  // Schedules a function to run. Returns a Future to its result immediately.
  // The task becomes runnable as soon as its dependencies are met.
  schedule&lt;T&gt;(
    task_func: () -&gt; T,
    dependencies: optional Collection&lt;Future&lt;any&gt;&gt;
  ): Future&lt;T&gt;
}
</code></pre>
</li>
<li><strong>Implementation Strategy:</strong>
<ol>
<li>The <code>Scheduler.schedule</code> function creates a <code>Task</code> object containing the function pointer and a list of dependency Futures. The <code>Task</code> is placed in a central graph and marked <code>Waiting</code>.</li>
<li>When a Future is completed, the scheduler iterates through its dependents. If a dependent <code>Task</code> has all its dependencies met, its state is changed to <code>Runnable</code> and it's pushed to the global injection queue.</li>
<li>A call to <code>Future.await()</code> within a task's logic is a compiler/runtime intrinsic. It registers the current task as <code>Waiting</code> on the target Future and signals the worker thread to immediately return to the scheduler to find a new <code>Runnable</code> task. It <strong>must not</strong> block the OS thread.</li>
</ol>
</li>
</ul>
<hr />
<p><strong>4. Tier 3: Heterogeneous &amp; Distributed Computing</strong></p>
<p>This tier acknowledges that not all hardware is the same and that computation may span multiple machines. It builds on the concepts of Tiers 1 and 2 but adapts them for different constraints.</p>
<p><strong>4.1. GPU Co-Processing</strong></p>
<ul>
<li><strong>Application:</strong> Highly data-parallel sub-problems within a larger computation (e.g., specific compiler passes, linear algebra, image filtering).</li>
<li><strong>Feature:</strong> <strong>Execution Policies and Kernel Abstraction</strong></li>
<li><strong>Interface (Pseudocode):</strong>
<pre><code>// Extend parallel iterators with an execution policy.
// The programmer hints at the desired execution environment.
enum ExecutionPolicy { CPU, GPU_ACCELERATED }

interface ParallelIterator&lt;T&gt; {
  // New `for_each` with a policy.
  for_each(policy: ExecutionPolicy, func: (T) -&gt; void): void
}
</code></pre>
</li>
<li><strong>Implementation Strategy:</strong>
<ul>
<li>When <code>ExecutionPolicy.GPU_ACCELERATED</code> is used, the runtime attempts to compile the body of the <code>func</code> lambda into a GPU kernel (e.g., SPIR-V or PTX).</li>
<li>It inserts boilerplate code to manage memory transfers: <code>CPU RAM -&gt; GPU VRAM</code>, kernel execution, and <code>GPU VRAM -&gt; CPU RAM</code>.</li>
<li>This is a &quot;leaky abstraction&quot;: the programmer is responsible for ensuring the <code>func</code> body is GPU-friendly (no divergent control flow, etc.) and that the data size justifies the transfer overhead.</li>
<li><strong>Indirect Execution:</strong> For advanced cases (like game engines), provide <code>IndirectDraw</code> commands that allow the CPU to tell the GPU to chain its own operations without CPU readback, using GPU-side buffers as command arguments.</li>
</ul>
</li>
</ul>
<p><strong>4.2. Distributed Tasks</strong></p>
<ul>
<li><strong>Application:</strong> Big data processing (e.g., Apache Spark), large-scale scientific simulations.</li>
<li><strong>Feature:</strong> <strong>Resilient Distributed Datasets/DataFrames and Remote Tasks</strong></li>
<li><strong>Interface (Pseudocode):</strong>
<pre><code>// Abstraction for a collection partitioned across a cluster.
interface DistributedCollection&lt;T&gt; {
  // Transformations build a lineage graph but don't execute yet (lazy).
  map&lt;U&gt;(func: (T) -&gt; U): DistributedCollection&lt;U&gt;
  filter(func: (T) -&gt; bool): DistributedCollection&lt;T&gt;

  // Actions trigger the actual computation across the cluster.
  reduce(op: (T, T) -&gt; T): Future&lt;T&gt;
  collect(): Future&lt;Collection&lt;T&gt;&gt;
}

// All functions passed to transformations must be serializable.
// The language must provide a `Serializable` trait/interface.
</code></pre>
</li>
<li><strong>Implementation Strategy:</strong>
<ol>
<li><strong>Lazy Evaluation &amp; Lineage:</strong> Calls to <code>map</code> and <code>filter</code> do not execute. They build a logical Directed Acyclic Graph (DAG) of the computation's &quot;lineage&quot;.</li>
<li><strong>Job Scheduler:</strong> A call to an action (<code>reduce</code>, <code>collect</code>) triggers the central scheduler. It analyzes the DAG, optimizes it, and breaks it into stages of coarse-grained, serializable tasks.</li>
<li><strong>Data Locality:</strong> The scheduler queries a cluster manager to find where data partitions live and attempts to send computation to the data.</li>
<li><strong>Fault Tolerance:</strong> If a worker node dies, the scheduler uses the lineage graph to re-compute the lost data partitions by re-running the necessary tasks on another available node.</li>
<li><strong>RPC &amp; Serialization:</strong> The runtime must have a robust, built-in RPC mechanism and a default serialization protocol.</li>
</ol>
</li>
</ul>
<hr />
<p><strong>5. Conclusion: A Graduated Approach to Parallelism</strong></p>
<p>By structuring the language features in these tiers, we empower all levels of programmers. Novices can achieve significant speedups safely with <code>par_iter</code>. Experts can build complex, real-time systems like game engines using the <code>Future</code>-based tasking system. And data scientists can scale their analyses to massive clusters, all while thinking in terms of the same core concept: a graph of dependent computations. The language's role is to provide the safest, most abstract tool that can effectively solve the problem at hand.</p>
<h1 id="why-keep-less-performant-parallelismconcurrency-primitives"><a class="header" href="#why-keep-less-performant-parallelismconcurrency-primitives">Why keep less performant parallelism/concurrency primitives</a></h1>
<p>That's an exceptionally sharp and provocative design question. It gets right to the heart of language philosophy: <strong>Should a language be a &quot;pit of success&quot; by only providing the best tools, or should it be a comprehensive toolbox that includes simpler, sharper tools for specific jobs?</strong></p>
<p>You are advocating for a highly opinionated language design, and there's a strong argument for it. However, removing mutexes entirely would have significant, and likely negative, consequences.</p>
<p>Let's analyze the pros and cons of this &quot;no mutexes, only high-level parallelism&quot; approach.</p>
<hr />
<h3 id="the-argument-for-removing-mutexes-your-position"><a class="header" href="#the-argument-for-removing-mutexes-your-position">The Argument FOR Removing Mutexes (Your Position)</a></h3>
<ol>
<li>
<p><strong>Forces Good Habits:</strong> By removing the &quot;easy&quot; but often non-performant and deadlock-prone option, the language forces programmers to structure their problems in a way that is amenable to modern parallel patterns (e.g., message passing, structured parallelism). It nudges everyone towards thinking about data ownership and dependency graphs.</p>
</li>
<li>
<p><strong>Reduces Language Surface Area:</strong> Fewer concurrency primitives mean less for the language maintainers to implement, document, and perfect. It also means less for a new programmer to learn and potentially misuse.</p>
</li>
<li>
<p><strong>Drives API Excellence:</strong> As you said, if the <em>only</em> tools are the high-level ones, there is immense pressure to make their APIs incredibly polished, ergonomic, and well-documented, because they must serve everyone from the beginner to the expert.</p>
</li>
<li>
<p><strong>Avoids Performance Traps:</strong> Prevents programmers from building a system that works fine with 2 threads, but then grinds to a halt with 16 threads because of lock contention. They are forced to use a scalable solution from day one.</p>
</li>
</ol>
<hr />
<h3 id="the-strong-argument-against-removing-mutexes"><a class="header" href="#the-strong-argument-against-removing-mutexes">The Strong Argument AGAINST Removing Mutexes</a></h3>
<p>Despite the compelling points above, here's why virtually every language—even those with state-of-the-art parallelism like Rust and Go—keeps mutexes and similar primitives around.</p>
<p><strong>1. Not All Concurrency is About Parallelism</strong></p>
<p>This is the most crucial distinction.</p>
<ul>
<li><strong>Parallelism</strong> is about doing lots of work <em>faster</em> by using multiple cores. This is where work-stealing shines.</li>
<li><strong>Concurrency</strong> is about managing lots of <em>tasks at the same time</em>, which may or may not be CPU-bound.</li>
</ul>
<p><strong>Consider the Motivating Example: The Global Cache.</strong></p>
<p>In our application, we had a <code>Mutex&lt;Map&lt;...&gt;&gt;</code> for a shared picture cache. Let's analyze this problem:</p>
<ul>
<li><strong>Is it a performance bottleneck?</strong> No. Accessing this cache is infrequent. A thread might grab the lock for a few microseconds once every few seconds. There is virtually zero contention.</li>
<li><strong>Is it a parallelism problem?</strong> No. We don't need to speed up the cache access itself. We just need to ensure that when two threads <em>happen</em> to access it at the same time, they do so safely without corrupting the map.</li>
</ul>
<p>How would you solve this with only high-level tools?</p>
<ul>
<li><strong>Message Passing / Actor Model:</strong> You could create a dedicated &quot;cache actor&quot; thread that owns the map. Any other thread wanting to access the cache would have to send an asynchronous message (<code>{ type: 'get', key: '...' }</code>) and wait for a response message on another channel.</li>
</ul>
<p>This would work, but it's <strong>enormously overwrought</strong> for this problem. You've replaced a simple, clear <code>mutex.lock(...)</code> with a dedicated thread, two channels, and an asynchronous message-passing protocol. The cognitive overhead and boilerplate are significantly higher for a problem that a mutex solves perfectly and efficiently.</p>
<p><strong>2. Protecting Inevitable &quot;Oddball&quot; Shared State</strong></p>
<p>Sometimes, you just have a weird, global piece of state that needs to be managed. Initializing a logger, updating a small configuration value, registering a plugin. These are not data-parallel problems. They are simple state-change problems that require synchronization. A mutex is the most direct and readable tool for this job. Forcing it into a complex parallel framework is using a sledgehammer to crack a nut.</p>
<p><strong>3. Interacting with the Outside World (FFI)</strong></p>
<p>When your language needs to call into a C library (Foreign Function Interface), that library might require you to hold a lock before calling certain functions. Your language <em>must</em> provide a primitive that can satisfy this external requirement. You can't tell the C library to adopt a work-stealing model.</p>
<p><strong>4. The &quot;Escape Hatch&quot; is Crucial</strong></p>
<p>High-level abstractions are great, but they aren't perfect for every niche scenario. Sometimes, an expert programmer needs to build a new, custom synchronization primitive or data structure. The fundamental building blocks for those are almost always low-level atomics and, yes, mutexes or condition variables. Removing them takes away the power to build the <em>next</em> generation of high-level abstractions.</p>
<h3 id="conclusion-the-better-path-is-safe-by-default"><a class="header" href="#conclusion-the-better-path-is-safe-by-default">Conclusion: The Better Path is &quot;Safe by Default&quot;</a></h3>
<p>Instead of removing mutexes, the modern language design philosophy is to make them <strong>safe to use and less appealing for problems they don't solve well.</strong></p>
<p>This is the Rust approach:</p>
<ol>
<li><strong>Make Mutexes Safe:</strong> <code>Mutex&lt;T&gt;</code> is integrated with the ownership system. You cannot forget to unlock it (the lock is released when the guard object goes out of scope). You cannot access the data without holding the lock (this is a compile-time error). This eliminates many common mutex bugs.</li>
<li><strong>Make Parallelism Easy and Fast:</strong> Provide incredibly ergonomic and performant tools like Rayon's <code>par_iter()</code>.</li>
</ol>
<p>When a programmer is faced with a choice:</p>
<ul>
<li>For a big <code>for</code> loop, <code>par_iter()</code> is a one-line change and is clearly the right tool.</li>
<li>For a simple shared cache, wrapping it in a <code>Mutex</code> is straightforward and obviously correct.</li>
</ul>
<p>The language doesn't <em>forbid</em> the simpler tool; it just makes the high-performance tool so easy and attractive for the right problems that people naturally gravitate towards it. It guides them to the &quot;pit of success&quot; without taking away a fundamental and sometimes necessary tool.</p>
<p>So, your hypothetical language should absolutely <strong>not</strong> promote mutexes for high-performance computation. But it should <strong>provide a safe, well-designed Mutex</strong> as a fundamental tool for managing simple shared state, because that is a distinct and valid problem class.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="general-concepts"><a class="header" href="#general-concepts">General Concepts</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sandboxes-and-harnesses"><a class="header" href="#sandboxes-and-harnesses">Sandboxes and Harnesses</a></h1>
<p>say you want to simulate running your program to test it, but without it actually having any side effects outside of the program. Sandboxes/Harnesses make this trivial.
(TODO)</p>
<ul>
<li>when developing apps that have side effects outside of the program (e.g. file system, web traffic, etc.), sandboxes and harnesses provide a convenient way to test the program without it actually affecting anything outside of the program.</li>
<li>should probably be some sort of command line argument when running a program. Can also provide code that determines the sandbox/harness response for various actions (e.g. handle what happens when the user tries to open a file, or when the program tries to send a web request, etc.). There should also be good default implementations for all aspects of the sandbox/harness.</li>
<li>can also harness portions of an application while other aspects have not yet been developed. For example, if you are developing a new page on a large web app, and it itself interacts with parts that aren't implemented, you can create a harness that simulates those aspects as if they were implemented.</li>
<li>harnesses can simulate different operating systems, etc.</li>
</ul>
<p>Sandboxes/Harnesses make it so testing code is identical to running in production</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="advanced-case-studies"><a class="header" href="#advanced-case-studies">Advanced Case Studies</a></h1>
<p>This is a collection of real-world use cases demonstrating language usage</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dewy-compiler"><a class="header" href="#dewy-compiler">Dewy Compiler</a></h1>
<p>The bootstrapped compiler for the language</p>
<ol>
<li>tokenizing</li>
<li>parsing</li>
<li>type checking</li>
<li>code gen</li>
<li>etc.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="asteroid-detection"><a class="header" href="#asteroid-detection">Asteroid Detection</a></h1>
<p>Self-contained example for detecting Near Earth Objects (NEOs) and Asteroids</p>
<ol>
<li>collect raw data from Vera Rubin Observatory</li>
<li>analyze data and identify NEOs/Asteroids</li>
<li>calculate orbital parameters for all identified objects</li>
<li>plot objects in a simple 3D visualization (playing object orbits over time)</li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="dewy_online_interpreter_handler.js"></script>

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
