const SYSCALL_WRITE = 1
const STDOUT = 1

let argc = extern
let argv = extern


strlen = s_ptr => {
    let i = s_ptr
    loop #loadub(i) >? 0 i += 1
    i - s_ptr
}

let ptr = 0 % just so the typing info propogates properly
ptr = argv
%loop i in [0..argc) (
i = 0
(
    argptr = #loadl(ptr)
    arglen = strlen(argptr)
    __syscall3__(SYSCALL_WRITE STDOUT argptr arglen)
    %ptr += 8
)
