put_int = x:uint64 => (
    const SYSCALL_WRITE = 1
    const STDOUT = 1

    let place = 1
    loop place*10 <? x place*=10
    loop place >? 0 (
        let d = x // place
        x mod= place
        place //= 10

        zero = '0'
        buf = #alloc8(1)
        val = #loadub(zero) 
        val += d  % TODO: can't do `#loadub(zero) + d` yet because typeof isn't implemented on Builtin
        #storeb(val buf)
        __syscall3__(SYSCALL_WRITE STDOUT buf 1)
    )
)

put_int(1234567890)
