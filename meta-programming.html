<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Meta Programming - The Dewy Programming Language</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="ch00-00-introduction.html">Introduction</a></li><li class="chapter-item expanded "><a href="ch01-00-getting-started.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch01-xx-online-interpreter.html"><strong aria-hidden="true">1.1.</strong> Online Interpreter</a></li><li class="chapter-item expanded "><a href="ch01-01-installation.html"><strong aria-hidden="true">1.2.</strong> Installation</a></li><li class="chapter-item expanded "><a href="ch01-02-hello-world.html"><strong aria-hidden="true">1.3.</strong> Hello, World!</a></li></ol></li><li class="chapter-item expanded "><a href="ch02-00-hello-many-worlds.html"><strong aria-hidden="true">2.</strong> Hello, Many Worlds!</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch02-01-gui.html"><strong aria-hidden="true">2.1.</strong> GUI</a></li><li class="chapter-item expanded "><a href="ch02-02-graphics.html"><strong aria-hidden="true">2.2.</strong> Graphics</a></li><li class="chapter-item expanded "><a href="ch02-03-audio.html"><strong aria-hidden="true">2.3.</strong> Audio</a></li><li class="chapter-item expanded "><a href="ch02-04-networking.html"><strong aria-hidden="true">2.4.</strong> Networking</a></li><li class="chapter-item expanded "><a href="ch02-05a-game-development.html"><strong aria-hidden="true">2.5.</strong> 2D Game Development</a></li><li class="chapter-item expanded "><a href="ch02-05b-game-development.html"><strong aria-hidden="true">2.6.</strong> 3D Game Development</a></li><li class="chapter-item expanded "><a href="ch02-06-web-development.html"><strong aria-hidden="true">2.7.</strong> Web Development</a></li><li class="chapter-item expanded "><a href="ch02-07-databases.html"><strong aria-hidden="true">2.8.</strong> Databases</a></li><li class="chapter-item expanded "><a href="ch02-08-cryptography.html"><strong aria-hidden="true">2.9.</strong> Cryptography</a></li><li class="chapter-item expanded "><a href="ch02-09-operating-systems.html"><strong aria-hidden="true">2.10.</strong> Operating Systems</a></li><li class="chapter-item expanded "><a href="ch02-10-compilers.html"><strong aria-hidden="true">2.11.</strong> Compilers</a></li><li class="chapter-item expanded "><a href="ch02-11-scientific-computing.html"><strong aria-hidden="true">2.12.</strong> Scientific Computing</a></li><li class="chapter-item expanded "><a href="ch02-12-robotics.html"><strong aria-hidden="true">2.13.</strong> Robotics</a></li><li class="chapter-item expanded "><a href="ch02-13-machine-learning.html"><strong aria-hidden="true">2.14.</strong> Machine Learning</a></li></ol></li><li class="chapter-item expanded "><a href="chxx-features.html"><strong aria-hidden="true">3.</strong> Language Features</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="expressions-statements-blocks.html"><strong aria-hidden="true">3.1.</strong> Expressions, Statements, and Blocks</a></li><li class="chapter-item expanded "><a href="units.html"><strong aria-hidden="true">3.2.</strong> Units</a></li><li class="chapter-item expanded "><a href="string-interpolation.html"><strong aria-hidden="true">3.3.</strong> String Interpolation</a></li><li class="chapter-item expanded "><a href="basic-data-types.html"><strong aria-hidden="true">3.4.</strong> Basic Data Types</a></li><li class="chapter-item expanded "><a href="container-types.html"><strong aria-hidden="true">3.5.</strong> Container Types</a></li><li class="chapter-item expanded "><a href="range-types.html"><strong aria-hidden="true">3.6.</strong> Range Types</a></li><li class="chapter-item expanded "><a href="object-types.html"><strong aria-hidden="true">3.7.</strong> Object Types</a></li><li class="chapter-item expanded "><a href="function-types.html"><strong aria-hidden="true">3.8.</strong> Function Types</a></li><li class="chapter-item expanded "><a href="operators.html"><strong aria-hidden="true">3.9.</strong> Operators</a></li><li class="chapter-item expanded "><a href="number-bases.html"><strong aria-hidden="true">3.10.</strong> Number Bases</a></li><li class="chapter-item expanded "><a href="basic-math.html"><strong aria-hidden="true">3.11.</strong> Basic Math</a></li><li class="chapter-item expanded "><a href="linear-algebra.html"><strong aria-hidden="true">3.12.</strong> Linear Algebra</a></li><li class="chapter-item expanded "><a href="functional-programming.html"><strong aria-hidden="true">3.13.</strong> Functional Programming</a></li><li class="chapter-item expanded "><a href="meta-programming.html" class="active"><strong aria-hidden="true">3.14.</strong> Meta Programming</a></li><li class="chapter-item expanded "><a href="flow-control.html"><strong aria-hidden="true">3.15.</strong> Flow Control</a></li><li class="chapter-item expanded "><a href="loops.html"><strong aria-hidden="true">3.16.</strong> One Loop to Rule them All</a></li><li class="chapter-item expanded "><a href="imports.html"><strong aria-hidden="true">3.17.</strong> Imports</a></li></ol></li><li class="chapter-item expanded "><a href="ch04-00-stdlib.html"><strong aria-hidden="true">4.</strong> Standard Library</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch04-xx-data-structures.html"><strong aria-hidden="true">4.1.</strong> Data Structures</a></li><li class="chapter-item expanded "><a href="ch04-xx-time.html"><strong aria-hidden="true">4.2.</strong> Time</a></li><li class="chapter-item expanded "><a href="ch04-xx-plotting.html"><strong aria-hidden="true">4.3.</strong> Plotting</a></li></ol></li><li class="chapter-item expanded "><a href="ch05-00-general.html"><strong aria-hidden="true">5.</strong> General Concepts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch05-xx-sandboxes-harnesses.html"><strong aria-hidden="true">5.1.</strong> Sandboxes and Harnesses</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Dewy Programming Language</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="meta-programming"><a class="header" href="#meta-programming">Meta Programming</a></h1>
<blockquote>
<p>Note: This will probably not be relevant until the current handwritten parser is replaced with a parser generator (probably GLL)</p>
</blockquote>
<p>Eventually, the goal is for the language to be completely described via some sort of syntax description, such as a context-free grammar. There was work on this in the past, but it was paused in favor of building a usable version of the language first. When there is a suitable parser-generator implementation of the language, one of the planned features is to include the syntax description language within Dewy itself for metaprogramming purposes. Users could describe new syntax features via the metalanguage, and then be able to use them in their programs.</p>
<p>Here's an example of the previous work on the metalanguage:</p>
<pre><code>% This is a description of the metalanguage written in the metalanguage itself

#eps = 'ϵ' | '\\e' | &quot;''&quot; | '&quot;&quot;' | &quot;{}&quot;;                    % ϵ, \e, '', &quot;&quot;, or {} indicates empty element, i.e. nullable
#wschar = [\n\x20];                                         % ascii whitespace characters (restrict to newlines and spaces).
#line_comment = '/\/' '\n'~* / '\n'~;                       % single line comment
#block_string = ξ* - ξ* '}/';                               % inside of a block comment. Cannot end with block comment delimiter
#block_comment = '/\{' (#block_comment | #block_string)* '}/';       % block comment, with allowed nested block comments
#ws = (#wschar | #line_comment | #block_comment)*;          % optional whitespace sequence
#anyset = '\\' [uUxX] | [VUξ];                              % V, U, ξ, \U, \u, \X, or \x used to indicate any unicode character
#hex = '\\' [uUxX] [0-9a-fA-F]+ / [0-9a-fA-F];              % hex number literal. Basically skipping the number part makes it #any
#number = [0-9]+ / [0-9];                                   % decimal number literal. Used to indicate # of repetitions
#charsetchar = ξ - [\-\[\]] - #wschar;                      % characters allowed in a set are any unicode excluding '-', '[', or ']', and whitespace
#item = #charsetchar | #escape | #hex;                      % items that make up character sets, i.e. raw chars, escape chars, or hex chars
#charset = '[' (#ws #item (#ws '-' #ws #item)? #ws)+ ']';   % set of chars specified literally. Whitespace is ignored, and must be escaped.

%paired grouping operators
#group = '(' #ws #expr #ws ')';                             % group together/force precedence
#char = '&quot;' (ξ - '&quot;' | #escape | #hex) '&quot;';                 % &quot;&quot; single character
#char = &quot;'&quot; (ξ - &quot;'&quot; | #escape | #hex) &quot;'&quot;;                 % '' single character
#caseless_char = &quot;{&quot; (ξ - [{}] | #escape | #hex) &quot;}&quot;;       % {} single character where case is ignored
#string = '&quot;' (ξ - '&quot;' | #escape | #hex)2+ '&quot;';             % &quot;&quot; string of 2+ characters
#string = &quot;'&quot; (ξ - &quot;'&quot; | #escape | #hex)2+ &quot;'&quot;;             % '' string of 2+ characters
#caseless_string = &quot;{&quot; (ξ - [{}] | #escape | #hex)2+ &quot;}&quot;;   % {} string of 2+ characters where case is ignored for each character
#escape = '\\' ξ;                                           % an escape character. Recognized escaped characters are \n \r \t \v \b \f \a.
                                                            % all others just put the second character literally. Common literals include \\ \' \&quot; \[ \] \-

%post operators
#capture = #expr #ws '.';                                   % group to capture
#star = #expr #ws (#number)? #ws '*';                       % zero or (number or more)
#plus = #expr #ws (#number)? #ws '+';                       % (number or one) or more
#option = #expr #ws '?';                                    % optional
#count = #expr #ws #number;                                 % exactly number of
#compliment = #set #ws '~';                                 % compliment of. equivalent to #any - #set

%implicit operators
#cat = #expr (#ws #expr)+;                                  % concatenate left and right

%binary expr operators
#or = (#expr #ws '|' #ws #expr) - #union;                   % left or right expression
#reject = (#expr #ws '-' #ws #expr) - #diff;                % reduce left expression only if it is not also the right expression
#nofollow = #expr #ws '/' #ws #expr;                        % reduce left expression only if not followed by right expression
#greaterthan = #expr #ws '&gt;' #ws #expr;                     % left expression has higher precedence than right expression

%binary set operators
#diff = #set #ws '-' #ws #set;                              % everything in left that is not in right
#intersect = #set #ws '&amp;' #ws #set;                         % intersect of left and right
#union = #set #ws '|' #ws #set;                             % union of left and right

%syntax constructs
#set = #anyset | #char | #caseless_char | #hex | #charset | #compliment | #diff | #intersect | #union;
#expr = #eps | #set | #group | #capture | #string | #caseless_string | #star | #plus | #option | #count | #cat | #or | #greaterthan | #lessthan | #reject | #nofollow | #hashtag;
#hashtag = '#' [a-zA-Z] [a-zA-Z0-9_]* / [a-zA-Z0-9_];
#rule = #hashtag #ws '=' #ws #expr #ws ';';
#grammar = (#ws #rule)* #ws;
#start = #grammar;
</code></pre>
<p>If/when a metalanguage is added to Dewy, it will likely look much different than this. Current drawbacks of this syntax are:</p>
<ul>
<li>difficulties describing expression precedence and associativity</li>
<li>difficulties handling ambiguity that may arise from the grammar</li>
<li>verbosity of handling whitespace/comments</li>
<li>some incompatibility of the metalanguage with Dewy syntax. Ideally metalanguage expressions would be valid Dewy expressions</li>
<li>currently no process for the semantic results of parsed rules</li>
</ul>
<p>Something more ideal may make use of string prefix functions</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=%28meta%29r%27%27%27%0A%20%20%20%20%23rule%20%3D%20%23hashtag%20%27%3D%27%20%23expr%20%27%3B%27%20%3D%3E%20%7B%20/%7Bsemantics%20for%20handling%20the%20rule%7D/%20%7D%3B%0A%27%27%27&id=DewyIframe72"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe72"
    frameBorder="0"
></iframe>
<p>Or perhaps a syntax constructed explicitly from valid Dewy expressions</p>
<iframe
    src="https://david-andrew.github.io/iframes/dewy/src_only?src=%23rule%20%3D%20%23hashtag%2C%20%27%3D%27%2C%20%23expr%2C%20%27%3B%27%20%3D%3E%20%7B%20/%7Bsemantics%20for%20handling%20the%20rule%7D/%20%7D&id=DewyIframe73"
    style="width: 100%; border-radius: 0.5rem;"
    id="DewyIframe73"
    frameBorder="0"
></iframe>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="functional-programming.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="flow-control.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="functional-programming.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="flow-control.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="dewy_online_interpreter_handler.js"></script>


    </div>
    </body>
</html>
